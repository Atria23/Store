import{q as N,W as v,r as c,j as e}from"./app-c_iWWqVe.js";function y(){const{props:r}=N(),s=r.alert||null,{data:i,setData:l,post:h,processing:d,errors:n}=v({amount:2e5,bank:"BCA",owner_name:"Danu Trianggoro"}),[p,j]=c.useState(()=>x(i.amount.toString())),[a,m]=c.useState(()=>(s==null?void 0:s.type)==="success"?s:null);c.useEffect(()=>{(s==null?void 0:s.type)==="success"&&m(s)},[s]);const b=t=>{const u=t.target.value.replace(/[^0-9]/g,""),g=parseInt(u||"0",10);l("amount",g),j(x(u))},f=t=>{t.preventDefault(),m(null),h(route("deposit-admin.store"))},o=t=>{navigator.clipboard.writeText(t)};return e.jsxs("div",{className:"max-w-[500px] mx-auto",children:[e.jsx("div",{className:"w-full h-max flex flex-row space-x-4 justify-start items-center px-4 py-2 bg-main",children:e.jsxs("div",{className:"w-full h-max flex flex-row space-x-4 items-center justify-start",children:[e.jsx("button",{className:"shrink-0 w-6 h-6",onClick:()=>window.history.back(),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",className:"w-6 h-6",children:e.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),e.jsx("div",{className:"font-utama text-white font-bold text-lg",children:"Deposit Admin"})]})}),a&&a.type==="success"&&e.jsxs("div",{className:"mt-6 p-4 bg-green-100 border rounded text-green-800 space-y-3",children:[e.jsx("h2",{className:"font-semibold mb-2",children:"Permintaan Deposit Diterima"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["Jumlah yang harus ditransfer:"," ",e.jsx("strong",{children:Number(a.amount).toLocaleString("id-ID")})]}),e.jsx("button",{onClick:()=>o(a.amount.toString()),className:"text-sm text-blue-600 hover:underline",children:"Salin"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["Berita transfer: ",e.jsx("strong",{children:a.notes})]}),e.jsx("button",{onClick:()=>o(a.notes),className:"text-sm text-blue-600 hover:underline",children:"Salin"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["Nomor Rekening: ",e.jsx("strong",{children:a.account_number})]}),e.jsx("button",{onClick:()=>o(a.account_number),className:"text-sm text-blue-600 hover:underline",children:"Salin"})]})]}),(s==null?void 0:s.type)==="error"&&e.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-800 rounded",children:s.message}),n.api&&e.jsx("div",{className:"p-3 bg-red-100 text-red-800 rounded mb-4",children:n.api}),e.jsxs("form",{onSubmit:f,className:"space-y-4 mt-6 px-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Jumlah Deposit"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2",value:p,onChange:b}),n.amount&&e.jsx("div",{className:"text-red-500 text-sm",children:n.amount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Bank Tujuan"}),e.jsxs("select",{className:"w-full border rounded p-2",value:i.bank,onChange:t=>l("bank",t.target.value),children:[e.jsx("option",{value:"BCA",children:"BCA"}),e.jsx("option",{value:"MANDIRI",children:"MANDIRI"}),e.jsx("option",{value:"BRI",children:"BRI"}),e.jsx("option",{value:"BNI",children:"BNI"})]}),n.bank&&e.jsx("div",{className:"text-red-500 text-sm",children:n.bank})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Nama Pemilik Rekening"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2",value:i.owner_name,onChange:t=>l("owner_name",t.target.value)}),n.owner_name&&e.jsx("div",{className:"text-red-500 text-sm",children:n.owner_name})]}),e.jsx("button",{type:"submit",disabled:d,className:"bg-blue-600 text-white py-2 px-4 rounded w-full",children:d?"Mengirim...":"Kirim Permintaan Deposit"})]})]})}function x(r){const s=parseInt(r||"0",10);return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s).replace(/^Rp/,"Rp")}export{y as default};
