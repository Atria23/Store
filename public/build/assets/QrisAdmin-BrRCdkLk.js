import{W as p,j as s}from"./app-TQy2Tp62.js";const h=({admin:a})=>{const{data:t,setData:l,post:d,processing:u,errors:n}=p({qris:null,qris_status:(a==null?void 0:a.qris_status)||!1,qris_manual:null,qris_manual_status:(a==null?void 0:a.qris_manual_status)||!1}),o=e=>new Promise((i,c)=>{const r=new FileReader;r.onloadend=()=>i(r.result),r.onerror=c,r.readAsDataURL(e)}),m=async e=>{e.preventDefault();const i=t.qris?await o(t.qris):null,c=t.qris_manual?await o(t.qris_manual):null,r=new FormData;r.append("qris",i||t.qris),r.append("qris_status",t.qris_status),r.append("qris_manual",c||t.qris_manual),r.append("qris_manual_status",t.qris_manual_status),d(route("admin.updateQris"),{data:r,onError:x=>console.error(x)})};return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-xl font-bold mb-4",children:"QRIS Settings"}),s.jsxs("form",{onSubmit:m,encType:"multipart/form-data",className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium",children:"QRIS"}),s.jsx("input",{type:"file",accept:"image/*",onChange:e=>l("qris",e.target.files[0]),className:"border rounded px-3 py-2 w-full"}),n.qris&&s.jsx("div",{className:"text-red-500 text-sm",children:n.qris})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium",children:"QRIS Status"}),s.jsx("input",{type:"checkbox",checked:t.qris_status,onChange:e=>l("qris_status",e.target.checked)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium",children:"QRIS Manual"}),s.jsx("input",{type:"file",accept:"image/*",onChange:e=>l("qris_manual",e.target.files[0]),className:"border rounded px-3 py-2 w-full"}),n.qris_manual&&s.jsx("div",{className:"text-red-500 text-sm",children:n.qris_manual})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium",children:"QRIS Manual Status"}),s.jsx("input",{type:"checkbox",checked:t.qris_manual_status,onChange:e=>l("qris_manual_status",e.target.checked)})]}),s.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",disabled:u,children:u?"Updating...":"Save Changes"})]}),a.qris&&s.jsxs("div",{children:[s.jsx("label",{children:"QRIS File:"}),s.jsx("img",{src:`/storage/${a.qris}`,alt:"QRIS"})]}),a.qris_manual&&s.jsxs("div",{children:[s.jsx("label",{children:"QRIS Manual File:"}),s.jsx("img",{src:`/storage/${a.qris_manual}`,alt:"QRIS Manual"})]})]})};export{h as default};
