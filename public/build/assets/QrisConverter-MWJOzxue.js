import{W as f,r as h,q as b,j as e}from"./app-DrEHNLh-.js";import{Q as g}from"./index-7FyfZP4t.js";function y(){const{data:t,setData:l,post:o,processing:d,errors:a,wasSuccessful:m,reset:v}=f({qris_string:"",qris_image:null,amount:"",fee_type:"",fee_value:""}),r=h.useRef(),{flash:i}=b().props,n=(i==null?void 0:i.result)||"",u=s=>{l({...t,qris_string:s.target.value,qris_image:null}),r.current&&(r.current.value="")},c=s=>{l({...t,qris_image:s.target.files[0],qris_string:""})},x=s=>{s.preventDefault(),o(route("qris.convert"),{onSuccess:()=>{r.current&&(r.current.value="")},preserveState:p=>Object.keys(p.props.errors).length>0})};return e.jsxs("div",{className:"max-w-md mx-auto p-4",children:[e.jsx("h1",{className:"text-xl font-bold mb-4",children:"QRIS Statis ke Dinamis"}),e.jsxs("form",{onSubmit:x,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"QRIS Statis (Tempel atau Upload)"}),e.jsx("textarea",{className:"w-full border p-2 rounded",value:t.qris_string,onChange:u,rows:3,placeholder:"Tempel kode QRIS di sini..."}),a.qris_string&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:a.qris_string}),e.jsx("div",{className:"text-center my-2 text-sm text-gray-500",children:"ATAU"}),e.jsx("input",{ref:r,type:"file",accept:"image/*",className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",onChange:c}),a.qris_image&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:a.qris_image})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Nominal"}),e.jsx("input",{type:"number",className:"w-full border p-2 rounded",value:t.amount,onChange:s=>l("amount",s.target.value),required:!0}),a.amount&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:a.amount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Biaya Layanan"}),e.jsxs("select",{className:"w-full border p-2 rounded",value:t.fee_type,onChange:s=>l("fee_type",s.target.value),children:[e.jsx("option",{value:"",children:"Tidak ada"}),e.jsx("option",{value:"r",children:"Rupiah"}),e.jsx("option",{value:"p",children:"Persen"})]})]}),t.fee_type&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium",children:["Nilai Biaya (",t.fee_type==="r"?"Rupiah":"Persen",")"]}),e.jsx("input",{type:"number",className:"w-full border p-2 rounded",value:t.fee_value,onChange:s=>l("fee_value",s.target.value)}),a.fee_value&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:a.fee_value})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded disabled:opacity-50",disabled:d,children:d?"Memproses...":"Convert QRIS"})]}),m&&n&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-100 rounded text-center",children:[e.jsx("strong",{className:"block mb-4",children:"Hasil QRIS Dinamis:"}),e.jsx("div",{className:"p-4 bg-white inline-block rounded-lg shadow",children:e.jsx(g,{value:n,size:256})}),e.jsx("div",{className:"mt-4 p-2 bg-gray-200 rounded break-all text-xs",children:n})]})]})}export{y as default};
