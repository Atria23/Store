import{q as N,W as f,r as i,j as e}from"./app-Cql-5f9t.js";function D(){const{props:a}=N(),t=a.alert||null,{data:r,setData:o,post:p,processing:d,errors:n}=f({amount:2e5,bank:"BCA",owner_name:"Danu Trianggoro"}),[x,h]=i.useState(()=>u(r.amount.toString())),[l,m]=i.useState(()=>(t==null?void 0:t.type)==="success"?t:null);i.useEffect(()=>{(t==null?void 0:t.type)==="success"&&m(t)},[t]);const b=s=>{const c=s.target.value.replace(/[^0-9]/g,""),g=parseInt(c||"0",10);o("amount",g),h(u(c))},j=s=>{s.preventDefault(),m(null),p(route("deposit-admin.store"))};return e.jsxs("div",{className:"max-w-[500px] mx-auto p-4",children:[e.jsx("h1",{className:"text-xl font-bold mb-4",children:"Request Deposit Admin"}),l&&e.jsxs("div",{className:"mt-6 p-4 bg-green-100 border rounded text-green-800",children:[e.jsx("h2",{className:"font-semibold mb-1",children:"Permintaan Deposit Diterima"}),e.jsxs("p",{children:["Jumlah yang harus ditransfer: ",e.jsxs("strong",{children:["Rp",Number(l.amount).toLocaleString()]})]}),e.jsxs("p",{children:["Berita transfer: ",e.jsx("strong",{children:l.notes})]})]}),(t==null?void 0:t.type)==="error"&&e.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-800 rounded",children:t.message}),n.api&&e.jsx("div",{className:"p-3 bg-red-100 text-red-800 rounded mb-4",children:n.api}),e.jsxs("form",{onSubmit:j,className:"space-y-4 mt-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Jumlah Deposit"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2",value:x,onChange:b}),n.amount&&e.jsx("div",{className:"text-red-500 text-sm",children:n.amount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Bank Tujuan"}),e.jsxs("select",{className:"w-full border rounded p-2",value:r.bank,onChange:s=>o("bank",s.target.value),children:[e.jsx("option",{value:"BCA",children:"BCA"}),e.jsx("option",{value:"MANDIRI",children:"MANDIRI"}),e.jsx("option",{value:"BRI",children:"BRI"}),e.jsx("option",{value:"BNI",children:"BNI"})]}),n.bank&&e.jsx("div",{className:"text-red-500 text-sm",children:n.bank})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Nama Pemilik Rekening"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2",value:r.owner_name,onChange:s=>o("owner_name",s.target.value)}),n.owner_name&&e.jsx("div",{className:"text-red-500 text-sm",children:n.owner_name})]}),e.jsx("button",{type:"submit",disabled:d,className:"bg-blue-600 text-white py-2 px-4 rounded w-full",children:d?"Mengirim...":"Kirim Permintaan Deposit"})]})]})}function u(a){const t=parseInt(a||"0",10);return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t).replace(/^Rp/,"Rp")}export{D as default};
