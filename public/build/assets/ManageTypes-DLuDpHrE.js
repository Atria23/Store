import{r as a,W as Ce,j as e,y as Q}from"./app-BPrLCREs.js";function ze({types:X=[],brands:o=[],categories:u=[],inputTypes:p=[]}){var Y,q,J;const[Z,m]=a.useState(!1),[N,h]=a.useState(null),[_,ee]=a.useState(""),[C,te]=a.useState("asc"),[k,S]=a.useState(!1),[se,L]=a.useState(!1),[le,f]=a.useState(!1),[ae,re]=a.useState(null),[ne,T]=a.useState(!1),[d,g]=a.useState({}),[B,ie]=a.useState(""),[F,oe]=a.useState(""),[R,de]=a.useState(""),[O,H]=a.useState(null),[ke,ce]=a.useState(null),[xe,M]=a.useState(!1),[i,w]=a.useState([]),[z,W]=a.useState({}),[P,b]=a.useState(""),[me,j]=a.useState(!1),[Se,$]=a.useState(null),E=a.useRef(null),[I,y]=a.useState(""),[ue,v]=a.useState(!1),[Le,G]=a.useState(null),A=a.useRef(null),[Te,pe]=a.useState([]),he=t=>{pe(l=>l.includes(t)?l.filter(n=>n!==t):[...l,t]),w(l=>l.includes(t)?l.filter(n=>n!==t):[...l,t])},fe=()=>{i.length===x.length?w([]):w(x.map(t=>t.id))},c=(t,l)=>{W(n=>({...n,[t]:l}))},ge=()=>{if(i.length===0){toast.error("Pilih minimal satu tipe untuk diubah.");return}Q.post(route("types.bulk-update"),{ids:i,...z},{onSuccess:()=>{M(!1),w([]),W({}),$(null),G(null),b(""),y(""),toast.success("Berhasil mengubah tipe secara massal")},onError:()=>{toast.error("Gagal melakukan edit massal")}})};a.useEffect(()=>{const t=l=>{E.current&&!E.current.contains(l.target)&&j(!1),A.current&&!A.current.contains(l.target)&&v(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]);const x=X.filter(t=>t.name.toLowerCase().includes(_.toLowerCase())),{data:s,setData:r,post:K,processing:U,reset:D,delete:we}=Ce({id:"",name:"",brand_id:"",category_id:"",input_type_id:"",profit_persen:"",profit_tetap:"",example_id_product:"",example_image:null}),be=t=>{t.preventDefault(),g({});const l=new FormData;l.append("name",s.name),l.append("brand_id",s.brand_id),l.append("category_id",s.category_id??""),l.append("input_type_id",s.input_type_id??""),l.append("profit_persen",s.profit_persen??""),l.append("profit_tetap",s.profit_tetap??""),l.append("example_id_product",s.example_id_product),s.example_image&&l.append("example_image",s.example_image),N?K(route("types.update",s.id),{data:l,onSuccess:()=>{D(),h(null),m(!1)},onError:n=>g(n)}):K(route("types.store"),{data:l,onSuccess:()=>{D(),h(null),m(!1)},onError:n=>g(n)})},je=t=>{const l=t.target.files[0];l&&(r("example_image",l),H(URL.createObjectURL(l)))},ye=t=>{h(t),r({id:t.id,name:t.name.split(" - ")[0],brand_id:t.brand_id,category_id:t.category_id,input_type_id:t.input_type_id,profit_persen:t.profit_persen,profit_tetap:t.profit_tetap,example_id_product:t.example_id_product,example_image:t.example_image}),ce(t.image),H(t.example_image),m(!0)},ve=t=>{re(t),T(!0)},Ne=t=>{T(!1),we(route("types.destroy",t))};a.useEffect(()=>{s.category_id&&!o.some(t=>Number(t.id)===Number(s.brand_id)&&Number(t.category_id)===Number(s.category_id))&&r("brand_id",null)},[s.category_id,o]);const _e=()=>{Q.get(route("types.sync"),{},{onSuccess:t=>{alert(t.props.flash.message||"Sinkronisasi berhasil!")},onError:t=>{console.error("Gagal sinkronisasi:",t),alert("Gagal melakukan sinkronisasi.")}})},[Be,V]=a.useState(null);return a.useEffect(()=>{if(k){const t=o.find(l=>Number(l.id)===Number(s.brand_id));V(t||null)}},[k,s.brand_id,o]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mx-auto w-full max-w-[500px] max-h-[892px] min-h-screen",children:[e.jsxs("div",{className:"fixed top-0 left-1/2 -translate-x-1/2 max-w-[500px] w-full z-10 bg-main",children:[e.jsxs("div",{className:"w-full h-max flex flex-row space-x-4 justify-start items-center px-4 py-2 bg-main",children:[e.jsxs("div",{className:"w-full h-max flex flex-row space-x-4 items-center justify-start",children:[e.jsx("button",{className:"shrink-0 w-6 h-6",onClick:()=>window.history.back(),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",className:"w-6 h-6",children:e.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),e.jsx("div",{className:"font-utama text-white font-bold text-lg",children:"Kelola Tipe"})]}),e.jsx("button",{onClick:_e,className:"flex items-center w-6 h-6",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-6 h-6 text-white",children:[e.jsx("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"}),e.jsx("path",{fillRule:"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"})]})}),e.jsx("button",{onClick:()=>{h(null),D(),m(!0)},className:"flex items-center w-6 h-6",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6 text-white",children:[e.jsx("path",{d:"M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2m0 18a8 8 0 1 1 8-8 8.01 8.01 0 0 1-8 8"}),e.jsx("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4z"})]})})]}),e.jsxs("div",{className:"w-full h-max flex flex-col space-y-4 items-center justify-start p-4 bg-white shadow-lg",children:[e.jsxs("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center pr-2 py-2 rounded-lg bg-neutral-100 border-2 border-gray-200",children:[e.jsx("input",{id:"searchInput",type:"text",className:"bg-transparent border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",placeholder:"Cari tipe",value:_,onChange:t=>ee(t.target.value)}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.3",className:"w-5 h-5 text-main",children:e.jsx("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16a6.471 6.471 0 0 0 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zM9.5 14A4.5 4.5 0 1 1 14 9.5 4.505 4.505 0 0 1 9.5 14z"})})]}),e.jsxs("div",{className:"w-full h-max flex flex-row space-x-4 items-center justify-start",children:[e.jsxs("button",{onClick:()=>te(C==="asc"?"desc":"asc"),className:"w-full h-max flex flex-row space-x-2 items-center justify-center px-4 py-2",children:[C==="asc"?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 text-main",children:[e.jsx("path",{fillRule:"evenodd",d:"M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371zm1.57-.785L11 2.687h-.047l-.652 2.157z"}),e.jsx("path",{d:"M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645zM4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293z"})]}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 text-main",children:[e.jsx("path",{d:"M12.96 7H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645z"}),e.jsx("path",{fillRule:"evenodd",d:"M10.082 12.629 9.664 14H8.598l1.789-5.332h1.234L13.402 14h-1.12l-.419-1.371zm1.57-.785L11 9.688h-.047l-.652 2.156z"}),e.jsx("path",{d:"M4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293z"})]}),e.jsx("span",{className:"text-utama text-sm font-thin text-left align-middle text-blue-600",children:"Urutkan"})]}),e.jsx("div",{className:"shrink-0 w-8 text-main",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",className:"w-full h-full",children:e.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20"})})}),e.jsxs("button",{className:"w-full h-max flex flex-row space-x-2 items-center justify-center px-4 py-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 text-main",children:e.jsx("path",{d:"M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2z"})}),e.jsx("span",{className:"text-utama text-sm font-thin text-left align-middle text-blue-600",children:"Filter"})]})]}),i.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full border-b border-gray-400 mb-[200px]"}),e.jsxs("div",{className:"w-full flex flex-col space-y-3",children:[e.jsxs("div",{className:"w-full flex flex-row items-center justify-between",children:[e.jsxs("div",{className:"w-max flex items-center justify-start space-x-2",children:[e.jsx("input",{type:"checkbox",checked:i.length===x.length&&x.length>0,onChange:fe,className:"accent-main w-4 h-4"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Pilih Semua"})]}),e.jsx("div",{className:"w-max flex items-center space-x-2 justify-end",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[i.length," tipe dipilih"]})})]}),e.jsx("button",{onClick:()=>M(!0),className:"text-sm px-3 py-1.5 bg-main text-white rounded-md hover:bg-blue-700 transition",children:"Edit Massal"})]})]})]})]}),i.length>0&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"mb-[100px]"})}),e.jsx("div",{className:"mb-4 min-h-[756px] pt-[163px] bg-white",children:e.jsx("div",{className:"mb-4 min-h-[756px] bg-white",children:x.length>0?[...x].filter(t=>t.name.toLowerCase().includes(_.toLowerCase())).sort((t,l)=>C==="asc"?t.name.localeCompare(l.name):l.name.localeCompare(t.name)).map(t=>e.jsxs("div",{className:"flex space-x-2 justify-between items-center p-4 border-b-2 border-b-neutral-100",children:[e.jsx("input",{type:"checkbox",checked:i.includes(t.id),onChange:()=>he(t.id),className:"accent-main w-4 h-4"}),e.jsxs("div",{className:"w-full h-max flex items-center space-x-3 content-start",children:[e.jsx("div",{className:"w-13 h-13 space-x-2 flex items-center justify center p-1 rounded-xl bg-white shadow",children:e.jsx("img",{src:t.image||"storage/brands/default.webp",alt:t.name,className:"w-10 h-10 rounded-xl object-cover"})}),e.jsxs("div",{className:"max-w-[200px] flex flex-col items-start space-y-[2px]",children:[e.jsx("p",{className:"font-utama font-semibold text-sm truncate w-full",children:t.name}),e.jsx("p",{className:"font-utama text-xs",children:t.brand_name||"Tidak ada brand"}),e.jsxs("p",{className:"font-utama text-xs text-gray-500",children:[t.category_name||"Tidak ada kategori"," / ",t.input_type_name||"-"]}),(t.profit_persen||t.profit_tetap)&&e.jsxs("div",{className:"w-[180px] h-max px-2 py-[2px] text-xs text-green-600 rounded-3xl bg-green-50 border border-green-600 flex items-center justify-center",children:[t.profit_persen?`${parseFloat(t.profit_persen).toLocaleString("id-ID",{minimumFractionDigits:2,maximumFractionDigits:2})}%`:"","        ",t.profit_persen&&t.profit_tetap?" + ":"",t.profit_tetap?`Rp${parseFloat(t.profit_tetap).toLocaleString("id-ID",{maximumFractionDigits:0})}`:""]})]})]}),e.jsxs("div",{className:"w-12 h-full flex flex-col items-center space-y-2",children:[e.jsx("button",{onClick:()=>ye(t),className:"w-full h-max px-2 py-[2px] text-xs text-main rounded-3xl bg-blue-50 border border-main flex items-center justify-center",children:"Edit"}),e.jsx("button",{onClick:()=>ve(t.id),className:`w-full h-max px-2 py-[2px] text-xs rounded-3xl flex items-center justify-center 
                                            ${t.is_used?"text-yellow-600 bg-yellow-50 border border-yellow-600":"text-red-600 bg-red-50 border border-red-600"}`,children:"Hapus"})]})]},t.id)):e.jsx("p",{className:"p-4 text-center",children:"type tidak ditemukan"})})}),ne&&e.jsx("div",{className:"fixed z-20 inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"w-[328px] h-max flex flex-col space-y-2 items-center justify-center p-4 rounded-lg bg-white",children:[e.jsx("p",{className:"w-full h-max text-utama text-lg font-medium text-center align-middle",children:"Yakin ingin menghapus type ini?"}),e.jsxs("div",{className:"w-full h-max flex flex-row space-x-2",children:[e.jsx("button",{onClick:()=>Ne(ae),className:"w-full h-10 flex items-center justify-center px-4 py-2 text-white bg-red-600 rounded-md hover:bg-red-700",children:"Ya"}),e.jsx("button",{onClick:()=>T(!1),className:"w-full h-10 flex items-center justify-center px-4 py-2 text-white bg-main rounded-md hover:bg-blue-700",children:"Tidak"})]})]})}),Z&&e.jsx("div",{className:"fixed z-20 inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"w-[328px] max-h-[90vh] overflow-y-auto flex flex-col space-y-2 p-4 rounded-lg bg-white",children:[e.jsxs("div",{className:"w-full h-max flex flex-col",children:[e.jsx("button",{className:"w-full flex items-end justify-end",onClick:()=>{m(!1),g({})},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-7 h-7 text-red-500",children:e.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"})})}),e.jsx("h2",{className:"w-full h-max text-utama text-lg font-medium text-center align-middle",children:N?"Edit Tipe":"Tambah Tipe"})]}),e.jsxs("form",{onSubmit:be,children:[e.jsxs("div",{className:"w-full h-max flex flex-col space-y-2 items-center justify-center",children:[e.jsxs("div",{className:"w-[294px] h-max flex flex-col space-y-2",children:[e.jsx("p",{className:"w-full h-max text-utama font-medium text-sm text-left align-middle",children:"Nama Tipe"}),e.jsx("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center rounded-lg bg-neutral-100 border-2 border-gray-200",children:e.jsx("input",{type:"text",placeholder:"Contoh: Pulsa Transfer",value:s.name.split(" - ")[0],onChange:t=>r("name",t.target.value),className:"bg-transparent text-sm border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",required:!0})}),e.jsx("p",{className:"w-full h-max text-utama font-medium text-sm text-left align-middle",children:"Profit Persen"}),e.jsx("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center rounded-lg bg-neutral-100 border-2 border-gray-200",children:e.jsx("input",{type:"number",placeholder:"Contoh: 5",value:s.profit_persen??"",onChange:t=>r("profit_persen",t.target.value),className:"bg-transparent text-sm border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",step:"0.0001"})}),e.jsx("p",{className:"w-full h-max text-utama font-medium text-sm text-left align-middle",children:"Profit Tetap"}),e.jsx("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center rounded-lg bg-neutral-100 border-2 border-gray-200",children:e.jsx("input",{type:"number",placeholder:"Contoh: 1000",value:s.profit_tetap??"",onChange:t=>r("profit_tetap",t.target.value),className:"bg-transparent text-sm border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",step:"0.0001"})}),e.jsx("p",{className:"w-full h-max text-utama font-medium text-sm text-left align-middle",children:"Kategori"}),e.jsxs("div",{className:"relative w-full",children:[e.jsxs("div",{className:"flex items-center justify-between w-full h-10 px-4 py-2 bg-white border border-gray-300 rounded-md cursor-pointer",onClick:()=>L(!0),children:[e.jsx("span",{children:((Y=u.find(t=>Number(t.id)===Number(s.category_id)))==null?void 0:Y.name)||"Pilih kategori"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-gray-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M6 9l6 6 6-6"})})]}),se&&e.jsx("div",{className:"fixed z-30 inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"w-[328px] h-max flex flex-col space-y-2 items-center justify-center p-4 rounded-lg bg-white",children:[e.jsxs("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center pr-2 py-2 rounded-lg bg-neutral-100 border-2 border-gray-200",children:[e.jsx("input",{id:"searchInput",type:"text",className:"bg-transparent border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",placeholder:"Cari kategori",value:F,onChange:t=>oe(t.target.value)}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.3",className:"w-5 h-5 text-main",children:e.jsx("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16a6.471 6.471 0 0 0 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zM9.5 14A4.5 4.5 0 1 1 14 9.5 4.505 4.505 0 0 1 9.5 14z"})})]}),e.jsx("div",{className:"w-full max-h-[342px] flex flex-col items-start justify-start overflow-y-auto",children:u.filter(t=>t.name.toLowerCase().includes(F.toLowerCase())).map(t=>e.jsxs("div",{className:"w-full h-max flex flex-row space-x-2 items-center justify-start py-2 border-b border-b-gray-300 cursor-pointer",onClick:()=>{r("category_id",t.id),L(!1)},children:[e.jsx("img",{src:t.image?`/storage/${t.image}`:"storage/categories/default.png",alt:t.name,className:"w-8 h-8 border border-gray-300 rounded-full object-cover"}),e.jsx("p",{className:"text-utama text-sm text-left align-middle",children:t.name})]},t.id))}),e.jsx("button",{onClick:()=>L(!1),className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 transition",children:"Tutup"})]})})]}),e.jsx("p",{className:"w-full h-max text-utama font-medium text-sm text-left align-middle",children:"Brand"}),e.jsxs("div",{className:"relative w-full",children:[e.jsxs("div",{className:"flex items-center justify-between w-full h-10 px-4 py-2 bg-white border border-gray-300 rounded-md cursor-pointer",onClick:()=>S(!0),children:[e.jsx("span",{children:((q=o.find(t=>Number(t.id)===Number(s.brand_id)))==null?void 0:q.name)||"Pilih brand"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-gray-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M6 9l6 6 6-6"})})]}),k&&e.jsx("div",{className:"fixed z-30 inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"w-[328px] h-max flex flex-col space-y-2 items-center justify-center p-4 rounded-lg bg-white",children:[e.jsxs("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center pr-2 py-2 rounded-lg bg-neutral-100 border-2 border-gray-200",children:[e.jsx("input",{id:"searchInput",type:"text",className:"bg-transparent border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",placeholder:"Cari Brand...",value:B,onChange:t=>ie(t.target.value)}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.3",className:"w-5 h-5 text-main",children:e.jsx("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16a6.471 6.471 0 0 0 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zM9.5 14A4.5 4.5 0 1 1 14 9.5 4.505 4.505 0 0 1 9.5 14z"})})]}),e.jsxs("div",{className:"w-full max-h-[342px] flex flex-col items-start justify-start overflow-y-auto",children:[o.filter(t=>(!s.category_id||Number(t.category_id)===Number(s.category_id))&&t.name.toLowerCase().includes(B.toLowerCase())).map(t=>e.jsxs("div",{className:"w-full h-max flex flex-row space-x-2 items-center justify-start py-2 border-b border-b-gray-300 cursor-pointer",onClick:()=>{r("brand_id",t.id),V(t),S(!1)},children:[e.jsx("img",{src:t.image?`/storage/${t.image}`:"/storage/brands/default.webp",alt:t.name,className:"w-8 h-8 border border-gray-300 rounded-full object-cover"}),e.jsx("p",{className:"text-utama text-sm text-left align-middle",children:t.name})]},t.id)),o.filter(t=>(!s.category_id||Number(t.category_id)===Number(s.category_id))&&t.name.toLowerCase().includes(B.toLowerCase())).length===0&&e.jsx("p",{className:"text-gray-500 text-sm text-center w-full py-2",children:"Brand tidak ditemukan"})]}),e.jsx("button",{onClick:()=>S(!1),className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 transition",children:"Tutup"})]})})]}),e.jsx("p",{className:"w-full h-max text-utama font-medium text-sm text-left align-middle",children:"Tipe Input"}),e.jsxs("div",{className:"relative w-full",children:[e.jsxs("div",{className:"flex items-center justify-between w-full h-10 px-4 py-2 bg-white border border-gray-300 rounded-md cursor-pointer",onClick:()=>f(!0),children:[e.jsx("span",{children:((J=p.find(t=>Number(t.id)===Number(s.input_type_id)))==null?void 0:J.name)||"Pilih tipe input"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-gray-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M6 9l6 6 6-6"})})]}),le&&e.jsx("div",{className:"fixed z-30 inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"w-[328px] h-max flex flex-col space-y-2 items-center justify-center p-4 rounded-lg bg-white",children:[e.jsxs("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center pr-2 py-2 rounded-lg bg-neutral-100 border-2 border-gray-200",children:[e.jsx("input",{id:"searchInput",type:"text",className:"bg-transparent border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",placeholder:"Cari Input Type...",value:R,onChange:t=>de(t.target.value)}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.3",className:"w-5 h-5 text-main",children:e.jsx("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16a6.471 6.471 0 0 0 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zM9.5 14A4.5 4.5 0 1 1 14 9.5 4.505 4.505 0 0 1 9.5 14z"})})]}),e.jsxs("div",{className:"w-full max-h-[342px] flex flex-col items-start justify-start overflow-y-auto",children:[e.jsx("div",{className:"w-full h-max flex flex-row space-x-2 items-center justify-start py-2 border-b border-b-gray-300 cursor-pointer",onClick:()=>{r("input_type_id",null),f(!1)},children:e.jsx("p",{className:"text-gray-500 text-sm text-left align-middle",children:"Tidak Ada"})}),p.filter(t=>t.name.toLowerCase().includes(R.toLowerCase())).map(t=>e.jsx("div",{className:"w-full h-max flex flex-row space-x-2 items-center justify-start py-2 border-b border-b-gray-300 cursor-pointer",onClick:()=>{r("input_type_id",t.id),f(!1)},children:e.jsx("p",{className:"text-utama text-sm text-left align-middle",children:t.name})},t.id))]}),e.jsx("button",{onClick:()=>f(!1),className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 transition",children:"Tutup"})]})})]}),e.jsx("p",{className:"w-full h-max text-utama font-medium text-sm text-left align-middle",children:"Contoh ID Pelanggan"}),e.jsx("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center rounded-lg bg-neutral-100 border-2 border-gray-200",children:e.jsx("input",{type:"text",name:"example_id_product",value:s.example_id_product||"",onChange:t=>r("example_id_product",t.target.value),className:"bg-transparent text-sm border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",placeholder:"input 1= 24434, input 2=Ms24"})}),d.example_id_product&&e.jsx("p",{className:"text-red-600 text-sm",children:d.example_id_product})]}),e.jsxs("div",{className:"w-full h-max flex flex-col space-y-2 items-center justify-center",children:[e.jsxs("label",{className:"w-20 h-20 rounded-full cursor-pointer overflow-hidden relative border-2 border-gray-200",children:[e.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:je,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),O?e.jsx("img",{src:O,alt:"Preview",className:"w-full h-full object-cover"}):e.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-gray-500",children:"Pilih Gambar"})]}),d.image&&e.jsx("p",{className:"text-red-500 text-sm",children:d.image}),e.jsx("p",{className:"w-full h-max text-utama font-medium text-sm text-center align-middle",children:"Gambar Contoh ID Pel"})]})]}),d.name&&e.jsx("p",{className:"text-red-600 text-sm",children:d.name}),e.jsx("div",{className:"w-full h-max mt-2 flex flex-col items-center justify-center",children:e.jsx("button",{type:"submit",disabled:U||!s.name||!s.category_id||!s.brand_id,className:`w-full p-2 rounded transition ${U||!s.name||!s.category_id||!s.brand_id?"bg-gray-300 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:N?"Update":"Tambah"})})]})]})})]}),xe&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-[90%] w-[400px] relative z-50",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Edit Massal Tipe"}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-sm font-medium",children:"Profit Persen"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",step:"any",min:"0",className:"w-full border rounded p-2",value:z.profit_persen??"",onChange:t=>c("profit_persen",t.target.value)}),e.jsx("button",{type:"button",className:"px-2 text-sm text-red-600 border border-red-500 rounded hover:bg-red-50",onClick:()=>c("profit_persen",null),children:"Null"})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-sm font-medium",children:"Profit Tetap"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",step:"any",min:"0",className:"w-full border rounded p-2",value:z.profit_tetap??"",onChange:t=>c("profit_tetap",t.target.value)}),e.jsx("button",{type:"button",className:"px-2 text-sm text-red-600 border border-red-500 rounded hover:bg-red-50",onClick:()=>c("profit_tetap",null),children:"Null"})]})]}),e.jsxs("div",{className:"mb-2 relative",ref:E,children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Kategori"}),e.jsx("input",{type:"text",value:P,onFocus:()=>{b(""),j(!0)},onChange:t=>{b(t.target.value),j(!0)},placeholder:"Ketik untuk mencari kategori...",className:"w-full border rounded p-2 text-sm"}),me&&e.jsxs("div",{className:"absolute z-10 bg-white border border-gray-300 rounded w-full max-h-40 overflow-y-auto mt-1",children:[u.filter(t=>t.name.toLowerCase().includes(P.toLowerCase())).map(t=>e.jsx("div",{onClick:()=>{c("category_id",t.id),$(t),b(t.name),j(!1)},className:"px-3 py-2 hover:bg-gray-100 cursor-pointer text-sm",children:t.name},t.id)),u.filter(t=>t.name.toLowerCase().includes(P.toLowerCase())).length===0&&e.jsx("div",{className:"px-3 py-2 text-gray-500 text-sm",children:"Tidak ditemukan"})]})]}),e.jsxs("div",{className:"mb-2 relative",ref:A,children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipe Input"}),e.jsx("input",{type:"text",value:I,onFocus:()=>{y(""),v(!0)},onChange:t=>{y(t.target.value),v(!0)},placeholder:"Ketik untuk mencari tipe input...",className:"w-full border rounded p-2 text-sm"}),ue&&e.jsxs("div",{className:"absolute z-10 bg-white border border-gray-300 rounded w-full max-h-40 overflow-y-auto mt-1",children:[p.filter(t=>t.name.toLowerCase().includes(I.toLowerCase())).map(t=>e.jsx("div",{onClick:()=>{c("input_type_id",t.id),G(t),y(t.name),v(!1)},className:"px-3 py-2 hover:bg-gray-100 cursor-pointer text-sm",children:t.name},t.id)),p.filter(t=>t.name.toLowerCase().includes(I.toLowerCase())).length===0&&e.jsx("div",{className:"px-3 py-2 text-gray-500 text-sm",children:"Tidak ditemukan"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Batal"}),e.jsx("button",{onClick:ge,className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Simpan"})]})]})})]})}export{ze as default};
