import{r as n,j as e,W as z,y as O}from"./app-CThmhbRk.js";function b({show:t,setShow:o,title:c,options:u,selectedId:h,setData:d,dataKey:y,filterKey:x=null}){const[m,g]=n.useState(""),f=u.filter(r=>(!x||r[x]===h)&&r.name.toLowerCase().includes(m.toLowerCase()));return t?e.jsx("div",{className:"fixed z-30 inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"w-[328px] h-max flex flex-col space-y-2 items-center justify-center p-4 rounded-lg bg-white",children:[e.jsxs("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center pr-2 py-2 rounded-lg bg-neutral-100 border-2 border-gray-200",children:[e.jsx("input",{type:"text",className:"bg-transparent border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",placeholder:`Cari ${c}...`,value:m,onChange:r=>g(r.target.value)}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.3",className:"w-5 h-5 text-main",children:e.jsx("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16a6.471 6.471 0 0 0 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zM9.5 14A4.5 4.5 0 1 1 14 9.5 4.505 4.505 0 0 1 9.5 14z"})})]}),e.jsxs("div",{className:"w-full max-h-[342px] flex flex-col items-start justify-start overflow-y-auto",children:[f.map(r=>e.jsxs("div",{className:"w-full h-max flex flex-row space-x-2 items-center justify-start py-2 border-b border-b-gray-300 cursor-pointer",onClick:()=>{d(y,r.id),o(!1)},children:[e.jsx("img",{src:r.image?`/storage/${r.image}`:"/storage/logo.webp",alt:r.name,className:"w-8 h-8 border border-gray-300 rounded-full object-cover"}),e.jsxs("p",{className:"text-utama text-sm text-left align-middle",children:[r.name.split(" - ")[0]," "]})]},r.id)),f.length===0&&e.jsxs("p",{className:"text-gray-500 text-sm text-center w-full py-2",children:[c," tidak ditemukan"]})]}),e.jsx("button",{onClick:()=>o(!1),className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 transition",children:"Tutup"})]})}):null}function U({product:t,categories:o,brands:c,types:u,input_types:h}){var N,k,C,S;const d=!!t,[y,x]=n.useState(!1),[m,g]=n.useState(!1),[f,r]=n.useState(!1),[P,j]=n.useState(!1),[L,p]=n.useState(!1),[_,I]=n.useState(null),T=s=>{I(s),p(!0)},B=()=>{_&&(O.delete(route("product.destroy",_)),p(!1))},{data:l,setData:a,post:v,put:$,processing:w,errors:i}=z({buyer_sku_code:(t==null?void 0:t.buyer_sku_code)||"",product_name:(t==null?void 0:t.product_name)||"",category_id:(t==null?void 0:t.category_id)||"",brand_id:(t==null?void 0:t.brand_id)||"",type_id:(t==null?void 0:t.type_id)||"",input_type_id:(t==null?void 0:t.input_type_id)||"",price:(t==null?void 0:t.price)||"",sell_price:(t==null?void 0:t.sell_price)||"",buyer_product_status:(t==null?void 0:t.buyer_product_status)??!0,seller_product_status:(t==null?void 0:t.seller_product_status)??!0,unlimited_stock:(t==null?void 0:t.unlimited_stock)??!0,stock:(t==null?void 0:t.stock)||"",multi:(t==null?void 0:t.multi)??!0,start_cut_off:(t==null?void 0:t.start_cut_off)||"0:0",end_cut_off:(t==null?void 0:t.end_cut_off)||"0:0",desc:(t==null?void 0:t.desc)||"",seller_name:(t==null?void 0:t.seller_name)||"Muvausa Store"});n.useEffect(()=>{l.category_id!==(t==null?void 0:t.category_id)&&a(s=>({...s,brand_id:null,type_id:null}))},[l.category_id]),n.useEffect(()=>{l.brand_id!==(t==null?void 0:t.brand_id)&&a(s=>({...s,type_id:null}))},[l.brand_id]);const W=s=>{s.preventDefault(),v(d?route("product.update",t.id):route("product.store"))},[H,K]=n.useState(""),M=s=>s?"Rp"+parseInt(s,10).toLocaleString("id-ID").replace(/,/g,"."):"Rp0";n.useEffect(()=>{K(M(l.price))},[l.price]);const D=s=>{const E=s.target.value.replace(/\D/g,"");a("price",E)};return e.jsxs("div",{className:"mx-auto w-full max-w-[412px] max-h-[892px] min-h-screen",children:[e.jsx("div",{className:"fixed top-0 left-1/2 -translate-x-1/2 max-w-[412px] w-full z-10 bg-main",children:e.jsx("div",{className:"w-full h-max flex flex-row space-x-4 justify-start items-center px-4 py-2 bg-main",children:e.jsxs("div",{className:"w-full h-max flex flex-row space-x-4 items-center justify-start",children:[e.jsx("button",{className:"shrink-0 w-6 h-6",onClick:()=>window.history.back(),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",className:"w-6 h-6",children:e.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),e.jsx("div",{className:"font-utama text-white font-bold text-lg",children:d?"Edit Produk":"Tambah Produk"})]})})}),e.jsx("div",{className:"mb-4 min-h-[756px] pt-[60px] bg-white",children:e.jsxs("form",{onSubmit:W,children:[e.jsx("div",{className:"flex flex-col items-center justify-center",children:e.jsxs("div",{className:"w-[380px] h-max flex flex-col space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"w-full h-max text-gray-700 text-left align-middle",children:"Nama Produk (Wajib Hukumnya)"}),e.jsxs("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center rounded-lg bg-neutral-100 border-2 border-gray-200",children:[e.jsx("input",{type:"text",placeholder:"Contoh: Pulsa Transfer XL 100.000",value:l.product_name,onChange:s=>a("product_name",s.target.value),className:"bg-transparent text-sm border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",required:!0}),i.product_name&&e.jsx("p",{className:"text-red-500",children:i.product_name})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"w-full h-max text-gray-700 text-left align-middle",children:"Kode SKU (Wajib Hukumnya)"}),e.jsxs("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center rounded-lg bg-neutral-100 border-2 border-gray-200",children:[e.jsx("input",{type:"text",placeholder:"Contoh: xl100",value:l.buyer_sku_code,onChange:s=>a("buyer_sku_code",s.target.value),className:"bg-transparent text-sm border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",required:!0}),i.buyer_sku_code&&e.jsx("p",{className:"text-red-500",children:i.buyer_sku_code})]})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("label",{className:"w-full h-max text-gray-700 text-left align-middle",children:"Kategori (Wajib Hukumnya)"}),e.jsxs("div",{className:"flex items-center justify-between w-full h-10 px-4 py-2 bg-white border border-gray-300 rounded-md cursor-pointer",onClick:()=>g(!0),children:[e.jsx("span",{children:l.category_id?(N=o.find(s=>s.id===l.category_id))==null?void 0:N.name:"Pilih Kategori"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-gray-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("label",{className:"w-full h-max text-gray-700 text-left align-middle",children:"Brand (Wajib Hukumnya)"}),e.jsxs("div",{className:`flex items-center justify-between w-full h-10 px-4 py-2 border rounded-md cursor-pointer 
                                        ${l.category_id?"bg-white border-gray-300 text-gray-700":"bg-gray-200 border-gray-300 text-gray-400 cursor-not-allowed"}`,onClick:()=>l.category_id&&x(!0),children:[e.jsx("span",{children:l.brand_id?(k=c.find(s=>s.id===l.brand_id))==null?void 0:k.name.split(" - ")[0]:"Pilih Brand"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-gray-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("label",{className:"w-full h-max text-gray-700 text-left align-middle",children:"Tipe (Wajib Hukumnya)"}),e.jsxs("div",{className:`flex items-center justify-between w-full h-10 px-4 py-2 border rounded-md cursor-pointer 
                                        ${l.brand_id?"bg-white border-gray-300 text-gray-700":"bg-gray-200 border-gray-300 text-gray-400 cursor-not-allowed"}`,onClick:()=>l.brand_id&&r(!0),children:[e.jsx("span",{children:l.type_id?(C=u.find(s=>s.id===l.type_id))==null?void 0:C.name.split(" - ")[0]:"Pilih Type"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-gray-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("label",{className:"w-full h-max text-gray-700 text-left align-middle",children:"Tipe Input"}),e.jsxs("div",{className:"flex items-center justify-between w-full h-10 px-4 py-2 bg-white border border-gray-300 rounded-md cursor-pointer",onClick:()=>j(!0),children:[e.jsx("span",{children:l.input_type_id?(S=h.find(s=>s.id===l.input_type_id))==null?void 0:S.name:"Pilih Jenis Input"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-gray-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"w-full h-max text-gray-700 text-left align-middle",children:"Harga (Wajib Hukumnya)"}),e.jsxs("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center rounded-lg bg-neutral-100 border-2 border-gray-200",children:[e.jsx("input",{type:"text",placeholder:"Contoh: xl100",value:H,onChange:D,className:"bg-transparent text-sm border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",required:!0}),i.price&&e.jsx("p",{className:"text-red-500",children:i.price})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"w-full h-max text-gray-700 text-left align-middle",children:"Harga Jual (Hanya Lihat)"}),e.jsxs("div",{className:"flex items-center justify-between w-full h-10 bg-white border border-gray-300 rounded-md",children:[e.jsx("input",{type:"text",placeholder:"Contoh: xl100",value:`Rp${Math.ceil(l.sell_price||0).toLocaleString("id-ID")}`,readOnly:!0,className:"bg-transparent text-sm border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400"}),i.price&&e.jsx("p",{className:"text-red-500",children:i.price})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"w-full h-32 text-gray-700 text-left align-middle",children:"Deskripsi"}),e.jsx("div",{className:"w-full flex flex-row mx-auto items-center justify-center rounded-lg bg-neutral-100 border-2 border-gray-200",children:e.jsx("textarea",{type:"text",placeholder:"Contoh: paket lama wajib diunreg terlebih dahulu",className:"bg-transparent text-sm border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",value:l.desc,onChange:s=>a("desc",s.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"w-full h-max text-gray-700 text-left align-middle",children:"Start Cut Off"}),e.jsx("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center rounded-lg bg-neutral-100 border-2 border-gray-200",children:e.jsx("input",{type:"text",placeholder:"Contoh: xl100",className:"bg-transparent text-sm border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",value:l.start_cut_off,onChange:s=>a("start_cut_off",s.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"w-full h-max text-gray-700 text-left align-middle",children:"End Cut Off"}),e.jsx("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center rounded-lg bg-neutral-100 border-2 border-gray-200",children:e.jsx("input",{type:"text",placeholder:"Contoh: xl100",className:"bg-transparent text-sm border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",value:l.end_cut_off,onChange:s=>a("end_cut_off",s.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"w-full h-max text-gray-700 text-left align-middle",children:"Stok"}),e.jsxs("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center rounded-lg bg-neutral-100 border-2 border-gray-200",children:[e.jsx("input",{type:"text",placeholder:"Contoh: 100",className:"bg-transparent text-sm border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400 disabled:text-gray-500",value:l.unlimited_stock?"Unlimited":l.stock,onChange:s=>a("stock",s.target.value),disabled:l.unlimited_stock}),i.stock&&e.jsx("p",{className:"text-red-500",children:i.stock})]}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("input",{type:"checkbox",id:"unlimitedStock",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:l.unlimited_stock,onChange:s=>a("unlimited_stock",s.target.checked)}),e.jsx("label",{htmlFor:"unlimitedStock",className:"ml-2 text-gray-700 text-sm",children:"Unlimited Stok"})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-neutral-100 border-2 border-gray-200 rounded-lg",children:[e.jsx("input",{type:"checkbox",className:"w-5 h-5 text-blue-600 border-gray-300 focus:ring focus:ring-blue-300 rounded",checked:l.multi,onChange:s=>a("multi",s.target.checked)}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Multi"})]}),e.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-neutral-100 border-2 border-gray-200 rounded-lg",children:[e.jsx("input",{type:"checkbox",className:"w-5 h-5 text-blue-600 border-gray-300 focus:ring focus:ring-blue-300 rounded",checked:l.seller_product_status,onChange:s=>a("seller_product_status",s.target.checked)}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Seller Product Status"})]}),e.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-neutral-100 border-2 border-gray-200 rounded-lg",children:[e.jsx("input",{type:"checkbox",className:"w-5 h-5 text-blue-600 border-gray-300 focus:ring focus:ring-blue-300 rounded",checked:l.buyer_product_status,onChange:s=>a("buyer_product_status",s.target.checked)}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Buyer Product Status"})]})]}),e.jsx("button",{type:"submit",className:`px-4 py-2 rounded text-white ${w||!l.category_id||!l.brand_id||!l.type_id||!l.buyer_sku_code||!l.price||!l.product_name?"bg-gray-400 cursor-not-allowed":"bg-blue-600"}`,disabled:w||!l.category_id||!l.brand_id||!l.type_id||!l.buyer_sku_code||!l.price||!l.product_name,children:w?"Processing...":d?"Update Produk":"Tambah Produk"}),d&&e.jsx("button",{type:"button",onClick:()=>T(t.id),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Hapus Produk"})]})}),L&&e.jsx("div",{className:"fixed z-20 inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"w-[328px] h-max flex flex-col space-y-2 items-center justify-center p-4 rounded-lg bg-white",children:[e.jsx("p",{className:"w-full h-max text-utama text-lg font-medium text-center align-middle",children:"Yakin ingin menghapus produk ini?"}),e.jsxs("div",{className:"w-full h-max flex flex-row space-x-2",children:[e.jsx("button",{onClick:B,className:"w-full h-10 flex items-center justify-center px-4 py-2 text-white bg-red-600 rounded-md hover:bg-red-700",children:"Ya"}),e.jsx("button",{onClick:()=>p(!1),className:"w-full h-10 flex items-center justify-center px-4 py-2 text-white bg-main rounded-md hover:bg-blue-700",children:"Tidak"})]})]})}),e.jsx(b,{show:m,setShow:g,title:"Kategori",options:o,selectedId:null,setData:a,dataKey:"category_id"}),e.jsx(b,{show:y,setShow:x,title:"Brand",options:c,selectedId:l.category_id,setData:a,dataKey:"brand_id",filterKey:"category_id"}),e.jsx(b,{show:f,setShow:r,title:"Type",options:u,selectedId:l.brand_id,setData:a,dataKey:"type_id",filterKey:"brand_id"}),e.jsx(b,{show:P,setShow:j,title:"Jenis Input",options:h,selectedId:null,setData:a,dataKey:"input_type_id"})]})})]})}export{U as default};
