import{q as f,W as w,r as m,j as e}from"./app-BDYy8rya.js";function k(){const{props:l}=f(),n=l.alert||null,{data:r,setData:i,post:h,processing:d,errors:a}=w({amount:2e5,bank:"DANAMON",owner_name:"Danu Trianggoro"}),[b,j]=m.useState(()=>p(r.amount.toString())),[t,u]=m.useState(()=>(n==null?void 0:n.type)==="success"?n:null);m.useEffect(()=>{(n==null?void 0:n.type)==="success"&&u(n)},[n]);const N=s=>{const x=s.target.value.replace(/[^0-9]/g,""),g=parseInt(x||"0",10);i("amount",g),j(p(x))},v=s=>{s.preventDefault(),u(null),h(route("deposit-admin.store"))},c=s=>{navigator.clipboard.writeText(s)};return e.jsxs("div",{className:"max-w-[500px] mx-auto",children:[e.jsxs("div",{className:"w-full flex flex-row space-x-4 items-center px-4 py-2 bg-main",children:[e.jsx("button",{className:"shrink-0 w-6 h-6",onClick:()=>window.history.back(),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",className:"w-6 h-6",children:e.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),e.jsx("div",{className:"font-utama text-white font-bold text-lg",children:"Deposit Admin"})]}),t&&t.type==="success"&&e.jsxs("div",{className:"mt-6 p-4 bg-green-100 border rounded text-green-800 space-y-3",children:[e.jsx("h2",{className:"font-semibold mb-2",children:"Permintaan Deposit Diterima"}),e.jsx(o,{label:"Jumlah yang harus ditransfer",value:Number(t.amount).toLocaleString("id-ID"),onCopy:()=>c(t.amount.toString())}),e.jsx(o,{label:"Berita transfer",value:t.notes,onCopy:()=>c(t.notes)}),e.jsx(o,{label:"Nomor Rekening",value:t.account_number,onCopy:()=>c(t.account_number)}),e.jsx(o,{label:"Bank Tujuan",value:t.bank}),e.jsx(o,{label:"Metode Pembayaran",value:t.payment_method})]}),(n==null?void 0:n.type)==="error"&&e.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-800 rounded",children:n.message}),a.api&&e.jsx("div",{className:"p-3 bg-red-100 text-red-800 rounded mb-4",children:a.api}),e.jsxs("form",{onSubmit:v,className:"space-y-4 mt-6 px-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Jumlah Deposit"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2",value:b,onChange:N}),a.amount&&e.jsx("div",{className:"text-red-500 text-sm",children:a.amount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Bank Tujuan"}),e.jsxs("select",{className:"w-full border rounded p-2",value:r.bank,onChange:s=>i("bank",s.target.value),children:[e.jsx("option",{value:"BCA",children:"BCA"}),e.jsx("option",{value:"MANDIRI",children:"MANDIRI"}),e.jsx("option",{value:"BRI",children:"BRI"}),e.jsx("option",{value:"BNI",children:"BNI"}),e.jsx("option",{value:"DANAMON",children:"DANAMON"})]}),a.bank&&e.jsx("div",{className:"text-red-500 text-sm",children:a.bank})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Nama Pemilik Rekening"}),e.jsx("input",{type:"text",className:"w-full border rounded p-2",value:r.owner_name,onChange:s=>i("owner_name",s.target.value)}),a.owner_name&&e.jsx("div",{className:"text-red-500 text-sm",children:a.owner_name})]}),e.jsx("button",{type:"submit",disabled:d,className:"bg-blue-600 text-white py-2 px-4 rounded w-full",children:d?"Mengirim...":"Kirim Permintaan Deposit"})]})]})}function o({label:l,value:n,onCopy:r}){return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{children:[l,": ",e.jsx("strong",{children:n})]}),r&&e.jsx("button",{onClick:r,className:"text-sm text-blue-600 hover:underline",children:"Salin"})]})}function p(l){const n=parseInt(l||"0",10);return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n).replace(/^Rp/,"Rp")}export{k as default};
