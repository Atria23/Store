import{r as h,j as e,a as ee,y as ae,d as O,R as N}from"./app-BT5ss_Sj.js";import{t as te}from"./index-BMEuJ5ne.js";import{z as se}from"./index-CGBKz8VX.js";const w=n=>n==null||isNaN(n)?"Rp0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n),le=({storeData:n,transaction:r,size:d,editableBillPrice:a,editableAdminFee:s,editableDiscount:o,editablePenaltyFee:i,onDownloadRequest:v})=>{var z,R;const b=h.useRef(null),L=a!==void 0?a:(r==null?void 0:r.price)||0,$=s!==void 0?s:(r==null?void 0:r.admin_fee)||0,y=o!==void 0?o:((z=r==null?void 0:r.details)==null?void 0:z.diskon)||0,P=i!==void 0?i:0,D=L+$+P-y,F=new Date(r.created_at).toLocaleString("id-ID",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}),{type:f,details:_}=r,l=(_==null?void 0:_.desc)||{},t={textSize:d==="besar"?"text-2xl":"text-xl",fontWeight:d==="besar"?"font-bold":"font-medium",smallText:d==="besar"?"text-lg":"text-base",serialTitle:d==="besar"?"text-xl":"text-base",serialNumber:d==="besar"?"text-2xl":"text-xl",logoWidth:d==="besar"?"w-[90px]":"w-[80px]",padding:"p-3"},C=m=>!m||!Array.isArray(m)||m.length===0?e.jsx("div",{}):e.jsxs("div",{className:"flex flex-col gap-1 w-full my-1",children:[e.jsx("span",{className:`font-bold text-[#6d7278] ${t.textSize}`,children:"Rincian Tagihan Per Periode:"}),m.map((x,k)=>e.jsxs("div",{className:"flex flex-col border-b border-dashed border-gray-400 py-1 last:border-b-0",children:[e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight`,children:[e.jsx("span",{className:"font-semibold text-[#6d7278]",children:"Periode"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[200px]`,children:x.periode||"-"})]}),x.nilai_tagihan&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Tagihan:"}),e.jsx("span",{children:w(x.nilai_tagihan)})]}),x.denda>0&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Denda:"}),e.jsx("span",{children:w(x.denda)})]}),x.admin>0&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Admin:"}),e.jsx("span",{children:w(x.admin)})]}),x.meter_awal&&x.meter_akhir&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Meter:"}),e.jsxs("span",{children:[x.meter_awal,"-",x.meter_akhir]})]}),x.biaya_lain>0&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Biaya Lain:"}),e.jsx("span",{children:w(x.biaya_lain)})]}),x.iuran&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Iuran:"}),e.jsx("span",{children:w(x.iuran)})]})]},k))]});return e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>v(b.current),className:"mt-4 w-full bg-main text-white rounded-lg px-6 py-3 text-center text-sm font-semibold hover:bg-blue-700 flex items-center justify-center gap-2 mb-4",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-download",viewBox:"0 0 16 16",children:[e.jsx("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"}),e.jsx("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"})]}),"Unduh Struk"]}),e.jsxs("div",{ref:b,className:`bg-white w-[384px] h-max flex flex-col items-center justify-center mx-auto ${t.padding}`,children:[e.jsxs("div",{className:"flex flex-col gap-1 items-center w-full my-2",children:[((n==null?void 0:n.image)||(n==null?void 0:n.name))&&e.jsxs(e.Fragment,{children:[n.image&&e.jsx("img",{src:n.image,alt:"Logo",className:`${t.logoWidth} h-auto object-contain`}),n.name&&e.jsx("div",{className:`text-black text-center font-mono ${t.textSize} font-bold tracking-wide leading-tight`,children:n.name}),n.address&&e.jsx("div",{className:`text-black text-center font-mono ${t.smallText} tracking-wide leading-tight`,children:n.address})]}),e.jsx("div",{className:`text-black text-center font-mono ${t.smallText} ${t.fontWeight} tracking-wide leading-tight`,children:F})]}),e.jsxs("div",{className:`flex justify-between w-full ${t.textSize} font-mono tracking-wide leading-tight my-1`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:"ID"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all pl-10`,children:r.ref_id})]}),e.jsx("div",{className:"border-t-2 border-dashed border-gray-600 my-2 w-full"}),e.jsx("div",{className:"flex flex-col gap-1 w-full",children:[["Produk",((R=r.product)==null?void 0:R.product_name)||r.type],["Tujuan",r.customer_no],["Nama",r.customer_name||"-"],["Status",r.status]].map(([m,x],k)=>e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:m}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[240px]`,children:x})]},k))}),(f==="PLN"||f==="PDAM"||f==="INTERNET PASCABAYAR"||f==="BPJS KESEHATAN"||f==="PBB"||f==="MULTIFINANCE")&&_&&e.jsxs("div",{className:"flex flex-col gap-1 w-full my-2",children:[e.jsx("span",{className:`font-bold text-[#6d7278] ${t.textSize}`,children:"Detail Layanan:"}),f==="PLN"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Tarif/Daya:"}),e.jsxs("span",{children:[l.tarif||"-","/",l.daya||"-"," VA"]})]}),e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Lembar Tagihan:"}),e.jsx("span",{children:l.lembar_tagihan||"0"})]})]}),f==="PDAM"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Tarif:"})," ",e.jsx("span",{children:l.tarif||"-"})]}),l.alamat&&l.alamat!=="-"&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Alamat:"}),e.jsx("span",{children:l.alamat})," "]}),l.jatuh_tempo&&l.jatuh_tempo!=="-"&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Jatuh Tempo:"}),e.jsx("span",{children:l.jatuh_tempo||"-"})]}),e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Lembar Tagihan:"}),e.jsx("span",{children:l.lembar_tagihan||"0"})]})]}),f==="INTERNET PASCABAYAR"&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Lembar Tagihan:"}),e.jsx("span",{children:l.lembar_tagihan||"0"})]}),f==="BPJS KESEHATAN"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Jumlah Peserta:"}),e.jsx("span",{children:l.jumlah_peserta||"0"})]}),l.alamat&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Alamat:"}),e.jsx("span",{children:l.alamat})]}),e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Lembar Tagihan:"}),e.jsx("span",{children:l.lembar_tagihan||"0"})]})]}),f==="PBB"&&e.jsxs(e.Fragment,{children:[l.alamat&&l.alamat!=="-"&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:"Alamat"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[240px]`,children:l.alamat})]}),l.tahun_pajak&&l.tahun_pajak!=="-"&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:"Tahun Pajak"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[240px]`,children:l.tahun_pajak})]}),l.kelurahan&&l.kelurahan!=="-"&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:"Kelurahan"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[240px]`,children:l.kelurahan})]}),l.kecamatan&&l.kecamatan!=="-"&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:"Kecamatan"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[240px]`,children:l.kecamatan})]}),l.kab_kota&&l.kab_kota!=="-"&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:"Kab/Kota"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[240px]`,children:l.kab_kota})]}),l.luas_tanah&&l.luas_tanah!=="-"&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:"Luas Tanah"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[240px]`,children:l.luas_tanah})]}),l.luas_gedung&&l.luas_gedung!=="-"&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:"Luas Gedung"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[240px]`,children:l.luas_gedung})]}),e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:"Lembar Tagihan"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[240px]`,children:l.lembar_tagihan||"0"})]})]}),f==="MULTIFINANCE"&&e.jsxs(e.Fragment,{children:[l.item_name&&l.item_name!=="-"&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:"Item Kredit"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[240px]`,children:l.item_name})]}),l.no_rangka&&l.no_rangka!=="-"&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:"No. Rangka"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[240px]`,children:l.no_rangka})]}),l.no_pol&&l.no_pol!=="-"&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:"No. Polisi"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[240px]`,children:l.no_pol})]}),l.tenor&&l.tenor!=="-"&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:"Tenor"}),e.jsxs("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[240px]`,children:[l.tenor," Bulan"]})]}),e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:"Jumlah Lembar Tagihan"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[240px]`,children:l.lembar_tagihan||"0"})]}),l.detail&&Array.isArray(l.detail)&&l.detail.length>0&&e.jsxs("div",{className:"w-full pt-2 mt-2 border-t border-gray-200",children:[e.jsx("div",{className:`flex justify-between ${t.textSize} font-bold text-[#6d7278] tracking-wide leading-tight mb-1`,children:e.jsx("span",{children:"Detail Layanan"})}),l.detail.map((m,x)=>e.jsxs("div",{className:"w-full border-gray-300",children:[e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Nilai Tagihan"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[200px]`,children:w(m.bill_amount)})]}),parseFloat(m.admin_fee_per_period)>0&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Biaya Admin Periode"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[200px]`,children:w(m.admin_fee_per_period)})]}),parseFloat(m.denda)>0&&e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight pl-2`,children:[e.jsx("span",{children:"Denda Periode"}),e.jsx("span",{className:`text-black ${t.fontWeight} text-right break-all max-w-[200px]`,children:w(m.denda)})]}),m.biaya_lain&&m.biaya_lain>0&&e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 italic font-mono tracking-wide leading-tight",children:[e.jsx("span",{children:"Biaya Lain Periode"}),e.jsx("span",{children:w(m.biaya_lain)})]})]},x))]})]}),C(l.detail)]}),e.jsx("div",{className:"border-t-2 border-dashed border-gray-600 my-2 w-full"}),e.jsx("div",{className:"flex flex-col gap-1 w-full",children:[{label:"Harga Tagihan",value:L},{label:"Biaya Admin",value:$},{label:"Denda",value:P},{label:"Diskon",value:y}].filter(m=>m.value!==0).map(({label:m,value:x},k)=>e.jsxs("div",{className:`flex justify-between ${t.textSize} font-mono tracking-wide leading-tight`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:m}),e.jsxs("span",{className:`${t.fontWeight} text-black text-right`,children:[w(x).replace("Rp ","Rp")," "]})]},k))}),e.jsx("div",{className:"border-t-2 border-dashed border-gray-600 my-2 w-full"}),e.jsxs("div",{className:`flex justify-between w-full ${d==="besar"?"text-3xl":"text-2xl"} font-mono font-bold tracking-wide leading-tight my-1`,children:[e.jsx("span",{className:"font-bold text-[#6d7278]",children:"Total"}),e.jsx("span",{className:"text-black text-right",children:w(D)})]}),e.jsxs("div",{className:`text-black text-center ${t.smallText} font-mono ${t.fontWeight} tracking-wide leading-tight mt-2`,children:["Terima kasih sudah berbelanja.",e.jsx("br",{}),(n==null?void 0:n.phone_number)&&e.jsxs(e.Fragment,{children:["Hubungi Kami: ",n.phone_number,e.jsx("br",{})]})]})]})]})},ne=le,G=n=>n==null||isNaN(n)?"0":parseInt(n).toLocaleString("id-ID"),u=n=>n==null||isNaN(n)?"Rp0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n),re={"00":"Transaksi Sukses","01":"Timeout","02":"Transaksi Gagal","03":"Transaksi Pending",40:"Payload Error",50:"Transaksi Tidak Ditemukan",51:"Nomor Tujuan Diblokir",52:"Prefix Tidak Sesuai Operator",53:"Produk Seller Tidak Tersedia",54:"Nomor Tujuan Salah",55:"Produk Gangguan",57:"Jumlah Digit Tidak Sesuai",58:"Sedang Perbaikan",59:"Tujuan di Luar Wilayah",60:"Tagihan Belum Tersedia",62:"Produk Mengalami Gangguan",63:"Tidak Support Transaksi Multi",65:"Limit Transaksi Multi",66:"Sedang Perbaikan Sistem",68:"Stok Habis",71:"Produk Tidak Stabil",72:"Unreg Paket Dulu",73:"Kwh Melebihi Batas",74:"Transaksi Refund",80:"Akun Diblokir Penyedia Layanan",82:"Akun Belum Terverifikasi",84:"Nominal Tidak Valid",85:"Limitasi Transaksi",86:"Limitasi Pengecekan PLN"},ie=n=>re[n]||"Transaksi Gagal",Y=n=>{var d,a;const r=(a=(d=n==null?void 0:n.details)==null?void 0:d.desc)==null?void 0:a.detail;return!r||!Array.isArray(r)?0:r.reduce((s,o)=>s+parseFloat(o.denda||0),0)},de=({transaction:n})=>{const{type:r,details:d}=n;if(!d)return e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Detail Tagihan"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:"Tidak tersedia."})]});const a=d.desc||{},s=o=>!o||!Array.isArray(o)||o.length===0?e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Detail Item Tagihan"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:"Tidak tersedia."})]}):o.map((i,v)=>e.jsxs(N.Fragment,{children:[e.jsx("div",{className:"w-full h-px border-dashed border-gray-200 my-2"}),e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words font-semibold",children:"Periode"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:i.periode||"-"})]}),i.nilai_tagihan&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Nilai Tagihan"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:u(i.nilai_tagihan)})]}),i.denda>0&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Denda"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:u(i.denda)})]}),i.admin>0&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Admin Per Periode"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:u(i.admin)})]}),i.meter_awal&&i.meter_akhir&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Meter Awal-Akhir"}),e.jsxs("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:[i.meter_awal," - ",i.meter_akhir]})]}),i.biaya_lain>0&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Biaya Lain"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:u(i.biaya_lain)})]}),i.iuran>0&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Iuran"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:u(i.iuran)})]})]},v));switch(r){case"PLN":return e.jsxs(N.Fragment,{children:[e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Tarif / Daya"}),e.jsxs("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:[a.tarif||"-"," / ",a.daya||"-"," VA"]})]}),e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Jumlah Lembar Tagihan"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.lembar_tagihan||"0"})]}),s(a.detail)]});case"PDAM":return e.jsxs(N.Fragment,{children:[e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Tarif"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.tarif||"-"})]}),a.alamat&&a.alamat!=="-"&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Alamat"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.alamat})]}),a.jatuh_tempo&&a.jatuh_tempo!=="-"&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Jatuh Tempo"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.jatuh_tempo||"-"})]}),e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Jumlah Lembar Tagihan"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.lembar_tagihan||"0"})]}),s(a.detail)]});case"INTERNET PASCABAYAR":return e.jsxs(N.Fragment,{children:[e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Jumlah Lembar Tagihan"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.lembar_tagihan||"0"})]}),s(a.detail)]});case"BPJS KESEHATAN":return e.jsxs(N.Fragment,{children:[e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Jumlah Peserta"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.jumlah_peserta||"0"})]}),a.alamat&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Alamat"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.alamat})]}),e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Jumlah Lembar Tagihan"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.lembar_tagihan||"0"})]}),s(a.detail)]});case"PBB":return e.jsxs(N.Fragment,{children:[a.alamat&&a.alamat!=="-"&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Alamat"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.alamat})]}),a.tahun_pajak&&a.tahun_pajak!=="-"&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Tahun Pajak"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.tahun_pajak})]}),a.kelurahan&&a.kelurahan!=="-"&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Kelurahan"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.kelurahan})]}),a.kecamatan&&a.kecamatan!=="-"&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Kecamatan"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.kecamatan})]}),a.kab_kota&&a.kab_kota!=="-"&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Kab/Kota"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.kab_kota})]}),a.luas_tanah&&a.luas_tanah!=="-"&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Luas Tanah"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.luas_tanah})]}),a.luas_gedung&&a.luas_gedung!=="-"&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Luas Gedung"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.luas_gedung})]}),e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Jumlah Lembar Tagihan"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.lembar_tagihan||"0"})]})]});case"MULTIFINANCE":return e.jsxs(N.Fragment,{children:[e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Jumlah Lembar Tagihan"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.lembar_tagihan||"0"})]}),a.item_name&&a.item_name!=="-"&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Item Kredit"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.item_name})]}),a.no_rangka&&a.no_rangka!=="-"&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"No. Rangka"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.no_rangka})]}),a.no_pol&&a.no_pol!=="-"&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"No. Polisi"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:a.no_pol})]}),a.tenor&&a.tenor!=="-"&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Tenor"}),e.jsxs("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:[a.tenor," Bulan"]})]}),a.detail&&Array.isArray(a.detail)&&a.detail.length>0&&e.jsx("div",{className:"w-full pt-2 mt-2 border-t border-gray-200",children:a.detail.map((o,i)=>e.jsxs("div",{className:"w-full space-y-0.5 mb-2",children:[e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-full text-left font-utama text-sm text-gray-800 font-semibold tracking-[0.25px] break-words mb-1",children:"Periode"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:o.periode})]}),e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Biaya Admin Periode"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:u(o.admin_fee_per_period)})]}),e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Nilai Tagihan"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:u(o.bill_amount)})]}),parseFloat(o.denda)>0&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Denda Periode"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:u(o.denda)})]}),o.biaya_lain&&o.biaya_lain!=="0"&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Biaya Admin Periode"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:u(o.admin_fee_per_period)})]})]},i))})]});default:return e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Detail Produk"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:"Tidak tersedia."})]})}};function me({transaction:n,store:r}){var I,W,H,V,K,J,U;const d=h.useRef(null),a=h.useRef(null),[s,o]=h.useState(n),[i,v]=h.useState(n.admin_fee||0),[b,L]=h.useState(((I=n.details)==null?void 0:I.diskon)||0),[$,y]=h.useState(!1),[P,D]=h.useState("kecil"),[F,f]=h.useState(!1),[_,l]=h.useState({name:"",address:"",phone_number:"",image:""}),[t,C]=h.useState(!1);h.useState(!1),h.useEffect(()=>{r&&l(r)},[r]),h.useEffect(()=>{var c;n&&(o(n),v(n.admin_fee||0),L(((c=n.details)==null?void 0:c.diskon)||0))},[n]);const z=(c,g)=>{navigator.clipboard.writeText(c),g(!0),setTimeout(()=>g(!1),1500)},R=async c=>{if(c&&d.current&&a.current){const g=d.current.style.maxHeight,j=d.current.style.overflow,S=a.current.style.overflow,E=a.current.style.height,M=a.current.style.maxHeight;d.current.style.maxHeight="none",d.current.style.overflow="visible",a.current.style.overflow="visible",a.current.style.height="auto",a.current.style.maxHeight="none";try{const T=await te(c,{backgroundColor:"white"}),p=document.createElement("a");p.download=`Transaction-${s==null?void 0:s.ref_id}.png`,p.href=T,p.click()}catch(T){console.error("Error generating image:",T)}finally{d.current.style.maxHeight=g,d.current.style.overflow=j,a.current.style.overflow=S,a.current.style.height=E,a.current.style.maxHeight=M}}},m=async c=>{try{const j=await(await fetch("/transactions/update-status",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector("meta[name='csrf-token']").getAttribute("content")},body:JSON.stringify({transaction_id:c})})).json();j.success&&o(S=>({...S,status:j.newStatus||S.status}))}catch(g){console.error("Error updating status:",g)}};if(h.useEffect(()=>{const c=setInterval(()=>{(s==null?void 0:s.status)==="Pending"&&m(s.ref_id)},2e3);return()=>clearInterval(c)},[s]),!s)return e.jsx("div",{children:"Loading..."});const x=new Date(s.created_at).toLocaleString("id-ID",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}),k=sessionStorage.getItem("previous-url")||"/",B=Y(s),Z=(s.price||0)+(s.admin_fee||0)+B-(((W=s.details)==null?void 0:W.diskon)||0),q=(s.price||0)+i+B-b;return e.jsxs(e.Fragment,{children:[e.jsx(ee,{title:`Detail Transaksi ${s.ref_id}`}),e.jsxs("div",{className:"mx-auto w-full max-w-[500px] flex flex-col min-h-screen bg-gray-50",children:[e.jsx("header",{className:"fixed top-0 left-1/2 -translate-x-1/2 max-w-[500px] w-full z-10 flex flex-row space-x-4 justify-start items-center px-4 py-2 bg-main",children:e.jsxs("div",{className:"w-full flex flex-row space-x-4 items-center justify-start",children:[e.jsx("button",{className:"shrink-0 w-6 h-6",onClick:()=>ae.visit(k,{preserveState:!1}),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",className:"w-6 h-6",children:e.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),e.jsx("div",{className:"font-utama text-white font-bold text-lg",children:"Detail Riwayat Transaksi"})]})}),e.jsxs("main",{className:"w-full flex flex-col space-y-3 pt-14 p-4 bg-gray-50",children:[s.status==="Pending"&&e.jsxs("div",{className:"w-full bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-3 text-sm rounded-xl",children:["Status pesanan saat ini ",e.jsx("strong",{children:"Pending"}),". Tetap di halaman ini untuk melihat pembaruan terbaru secara otomatis."]}),e.jsxs("div",{className:"w-full flex flex-col space-y-8 items-center justify-center p-6 rounded-3xl bg-white shadow-md",children:[e.jsxs("div",{className:"w-full h-max flex flex-col space-y-4 items-start justify-center",children:[e.jsxs("div",{className:"w-full flex justify-center",children:[s.status==="Pending"&&e.jsx("div",{className:"w-24 h-24 bg-yellow-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",className:"w-14 h-14 text-yellow-500",fill:"currentColor",children:e.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71z"})})}),s.status==="Sukses"&&e.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",className:"w-14 h-14 text-green-500",fill:"currentColor",children:e.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})})}),s.status!=="Pending"&&s.status!=="Sukses"&&e.jsx("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"w-14 h-14 text-red-500",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"})})})]}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsxs("span",{className:`text-center text-sm font-medium px-4 py-1 rounded-full ${s.status==="Pending"?"text-yellow-700 bg-yellow-100":s.status==="Sukses"?"text-green-700 bg-green-100":"text-red-700 bg-red-100"}`,children:["Transaksi ",s.status]})}),e.jsx("p",{className:"w-full font-utama font-semibold text-xl break-words text-wrap text-center",children:((H=s.product)==null?void 0:H.product_name)||s.type})]}),e.jsx("div",{className:"w-full h-px bg-gray-300"})," ",e.jsxs("div",{className:"w-full flex flex-col space-y-2 items-start justify-start",children:[e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"ID Transaksi"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words flex items-center justify-end gap-1",children:t?e.jsx("div",{className:"w-20",children:e.jsx(se,{src:"https://lottie.host/519fbc9d-1e9b-4ddf-ab6f-14423aabd845/MtxYOaYcV8.lottie",autoplay:!0,loop:!1,style:{width:"100%",height:"100%"}})}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"break-words",children:s.ref_id}),e.jsx("button",{onClick:()=>z(s.ref_id,C),className:"text-blue-600 hover:text-blue-700 font-medium","aria-label":"Copy Ref Id",children:e.jsxs("svg",{className:"w-5 h-5 shrink-0","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{fillRule:"evenodd",d:"M7 9v6a4 4 0 0 0 4 4h4a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1v2Z",clipRule:"evenodd"}),e.jsx("path",{fillRule:"evenodd",d:"M13 3.054V7H9.2a2 2 0 0 1 .281-.432l2.46-2.87A2 2 0 0 1 13 3.054ZM15 3v4a2 2 0 0 1-2 2H9v6a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-3Z",clipRule:"evenodd"})]})})]})})]}),e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Waktu Transaksi"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:x})]}),e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Pesan"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:s.status==="Pending"?"Transaksi sedang diproses":ie(s.rc)})]}),e.jsx("div",{className:"w-full h-px border border-dashed border-gray-400 my-4"})," ",e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Kategori"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:((V=s.product)==null?void 0:V.category)||"-"})]}),e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Brand"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:((K=s.product)==null?void 0:K.brand)||"-"})]}),e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"ID Pelanggan"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:s.customer_no||"-"})]}),e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Nama Pelanggan"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:s.customer_name||"-"})]}),e.jsx("div",{className:"w-full h-px border border-dashed border-gray-400 my-4"})," ",e.jsx("div",{className:"w-full flex flex-col space-y-2 items-start justify-start",children:e.jsx(de,{transaction:s})}),e.jsx("div",{className:"w-full h-px border border-dashed border-gray-400 my-4"})," ",e.jsxs("div",{className:"w-full flex flex-col space-y-2 items-start justify-start",children:[e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Total Tagihan"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:u(s.price||0)})]}),s.promo_code&&e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Kode Promosi"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:s.promo_code})]}),e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Diskon"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:u(((J=s.details)==null?void 0:J.diskon)||0)})]}),e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Total Denda"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:u(B)})]}),e.jsxs("div",{className:"w-full flex flex-row",children:[e.jsx("div",{className:"w-1/2 text-left font-utama text-sm text-gray-800 font-normal tracking-[0.25px] break-words",children:"Total Biaya Admin"}),e.jsx("div",{className:"w-1/2 text-right font-utama text-sm font-medium tracking-[0.1px] break-words",children:u(s.admin_fee||0)})]}),e.jsx("div",{className:"w-full h-px border border-dashed border-gray-400 my-4"}),e.jsxs("div",{className:"w-full flex flex-row justify-between items-center",children:[e.jsx("span",{className:"text-md font-utama font-medium text-gray-700",children:"Total Bayar"}),e.jsx("span",{className:"text-md font-utama font-semibold text-black",children:u(Z)})]})]})]})," "]})]}),$&&e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-gray-800 bg-opacity-50 px-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-h-[90vh] w-full max-w-[450px] p-4 overflow-auto",children:[e.jsxs("div",{className:"w-full h-max flex flex-col mb-4",children:[e.jsx("button",{className:"w-full flex justify-end",onClick:()=>y(!1),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-7 h-7 text-red-500",children:e.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"})})}),e.jsx("h2",{className:"text-center font-utama text-lg font-medium",children:"Edit Biaya Admin & Diskon"})]}),e.jsxs("form",{onSubmit:c=>{var M,T;c.preventDefault();const g=Y(s),j=(T=(M=s==null?void 0:s.details)==null?void 0:M.desc)==null?void 0:T.detail,S=Array.isArray(j)&&j.length>0?j.length:1,E=i/S||0;o(p=>{const A=p.details?{...p.details}:{};A.diskon=b,A.desc&&Array.isArray(A.desc.detail)&&(A.desc.detail=A.desc.detail.map(Q=>({...Q,admin:E})));const X=(p.price||0)+i+g-b;return{...p,admin_fee:i,details:A,selling_price:X}}),y(!1)},className:"space-y-4",children:[e.jsxs("div",{className:"w-full h-max flex flex-col space-y-2",children:[e.jsx("p",{className:"w-full h-max font-utama font-medium text-sm text-left align-middle",children:"Biaya Admin (Total)"}),e.jsx("input",{type:"text",value:G(i),onChange:c=>{const g=c.target.value.replace(/\D/g,"");v(Number(g)||0)},className:"w-full rounded-lg border-2 border-gray-200 bg-neutral-100 px-3 py-2 text-sm focus:outline-none",placeholder:"Biaya Admin"})]}),e.jsxs("div",{className:"w-full h-max flex flex-col space-y-2",children:[e.jsx("p",{className:"w-full h-max font-utama font-medium text-sm text-left align-middle",children:"Diskon"}),e.jsx("input",{type:"text",value:G(b),onChange:c=>{const g=c.target.value.replace(/\D/g,"");L(Number(g)||0)},className:"w-full rounded-lg border-2 border-gray-200 bg-neutral-100 px-3 py-2 text-sm focus:outline-none",placeholder:"Diskon"})]}),e.jsxs("div",{className:"w-full flex justify-between font-bold mt-4",children:[e.jsx("span",{children:"Total (disesuaikan):"}),e.jsx("span",{children:u(q)})]}),e.jsx("div",{className:"w-full h-max mt-2 flex flex-col items-center justify-center",children:e.jsx("button",{type:"submit",className:"w-full bg-main text-white p-2 rounded hover:bg-blue-700 transition",children:"Simpan"})})]})]})}),e.jsxs("div",{className:"w-full max-w-[500px] p-4 bg-gray-50 mt-auto",children:[s.status==="Sukses"?e.jsxs(e.Fragment,{children:[e.jsx(O,{href:route("store.edit"),className:"w-full",children:e.jsxs("button",{className:"w-full border border-blue-600 text-blue-600 rounded-lg px-4 py-3 text-sm text-center flex items-center justify-center gap-2 mb-4 hover:bg-blue-50 transition-colors",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"w-5",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.37 2.37 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0M1.5 8.5A.5.5 0 0 1 2 9v6h12V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5m2 .5a.5.5 0 0 1 .5.5V13h8V9.5a.5.5 0 0 1 1 0V13a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9.5a.5.5 0 0 1 .5-.5"})}),"Edit Informasi Toko"]})}),e.jsxs("div",{className:"flex justify-between mb-4 gap-4",children:[e.jsxs("button",{onClick:()=>y(!0),className:"w-1/2 border border-blue-600 text-blue-600 rounded-lg px-4 py-2 text-sm text-center flex items-center justify-center gap-2 hover:bg-blue-50 transition-colors",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-receipt",viewBox:"0 0 16 16",children:[e.jsx("path",{d:"M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27m.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0z"}),e.jsx("path",{d:"M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5"})]}),"Edit Harga"]}),e.jsxs("button",{onClick:()=>f(!0),className:"w-1/2 border border-blue-600 text-blue-600 rounded-lg px-4 py-2 text-sm text-center flex items-center justify-center gap-2 hover:bg-blue-50 transition-colors",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-download",viewBox:"0 0 16 16",children:[e.jsx("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"}),e.jsx("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"})]}),"Unduh Struk"]})]}),F&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-50 px-4",children:e.jsxs("div",{ref:d,className:"bg-white rounded-xl shadow-xl max-h-[90vh] w-full max-w-[450px] p-4 overflow-auto",children:[e.jsxs("div",{className:"w-full h-max flex flex-col mb-4",children:[e.jsx("button",{className:"w-full flex items-end justify-end",onClick:()=>f(!1),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-7 h-7 text-red-500",children:e.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"})})}),e.jsx("h2",{className:"w-full font-utama text-lg font-medium text-center",children:"Preview Struk"})]}),e.jsx("div",{className:"flex justify-between mb-4 gap-4",children:["kecil","besar"].map(c=>e.jsxs("button",{onClick:()=>D(c),className:`w-1/2 rounded-lg px-4 py-2 text-sm font-semibold border
                                                    ${P===c?"bg-main text-white border-blue-600":"bg-white text-blue-600 border-blue-600"}`,children:["Struk Font ",c.charAt(0).toUpperCase()+c.slice(1)]},c))}),e.jsx("div",{ref:a,className:"flex justify-center border border-dashed border-gray-300 p-2 rounded-md bg-gray-50 w-full overflow-auto",children:e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{className:"w-full max-w-full",children:e.jsx(ne,{storeData:_,transaction:s,editableBillPrice:s.price,editableAdminFee:s.admin_fee,editableDiscount:(U=s.details)==null?void 0:U.diskon,editablePenaltyFee:B,size:P,onDownloadRequest:R})})})})]})})]}):null,e.jsx(O,{href:route("user.dashboard"),className:"w-full",children:e.jsxs("button",{className:"w-full bg-main text-white rounded-lg px-6 py-3 text-center text-sm font-semibold hover:bg-blue-700 flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{fillRule:"evenodd",d:"M11.293 3.293a1 1 0 0 1 1.414 0l6 6 2 2a1 1 0 0 1-1.414 1.414L19 12.414V19a2 2 0 0 1-2 2h-3a1 1 0 0 1-1-1v-3h-2v3a1 1 0 0 1-1 1H7a2 2 0 0 1-2-2v-6.586l-.293.293a1 1 0 0 1-1.414-1.414l2-2 6-6Z",clipRule:"evenodd"})}),"Beranda"]})})]})]})]})}export{me as default};
