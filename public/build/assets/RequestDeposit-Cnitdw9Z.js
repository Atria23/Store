import{r,W as w,j as e,a as j,d as _}from"./app-BX4XV2YF.js";const M=()=>{const x=[{label:"ShopeePay (Bebas Biaya Admin)",value:"shopeepay",logo:"/storage/payment_method/shopeepay.png"},{label:"Dana (Bebas Biaya Admin)",value:"dana",logo:"/storage/payment_method/dana.png"},{label:"GoPay (Bebas Biaya Admin)",value:"gopay",logo:"/storage/payment_method/gopay.png"},{label:"OVO (Bebas Biaya Admin)",value:"ovo",logo:"/storage/payment_method/ovo.png"},{label:"LinkAja (Bebas Biaya Admin)",value:"linkaja",logo:"/storage/payment_method/linkaja.png"},{label:"QRIS Otomatis (Bebas Biaya Admin)",value:"qris_otomatis",logo:"/storage/payment_method/qris_otomatis.png"},{label:"QRIS Dana (Bebas Biaya Admin)",value:"qris_dana",logo:"/storage/payment_method/qris_dana.png"},{label:"Qris Ovo (Biaya Admin 0.7%)",value:"qris_ovo",logo:"/storage/payment_method/qris_ovo.png"},{label:"Qris Gopay (Biaya Admin 0.3%)",value:"qris_gopay",logo:"/storage/payment_method/qris_gopay.png"}],[u,c]=r.useState(""),[g,i]=r.useState(!1),{post:f,data:t,setData:p,processing:m,errors:o}=w({amount:"",payment_method:"qris_otomatis"}),[d,h]=r.useState(0);r.useEffect(()=>{let a=0;switch(t.payment_method){case"qris_shopeepay":a=Math.ceil((t.amount||0)*0);break;case"qris_ovo":a=Math.ceil((t.amount||0)*.007);break;case"qris_gopay":a=Math.ceil((t.amount||0)*.003);break;case"qris_otomatis":a=Math.ceil((t.amount||0)*0);break;default:a=0;break}h(a)},[t.payment_method,t.amount]);const y=a=>{const n=a.target.value;p("payment_method",n);let s=0;switch(n){case"qris_shopeepay":s=Math.ceil(t.amount*0);break;case"qris_ovo":s=Math.ceil(t.amount*.007);break;case"qris_gopay":s=Math.ceil(t.amount*.003);break;case"qris_otomatis":s=Math.ceil(t.amount*0);break;default:s=0;break}h(s)},v=a=>{const n=a.target.value.replace(/\./g,"");let s=parseInt(n,10);(isNaN(s)||s<1)&&(s=1),s>45e4&&(s=45e4),p("amount",s);let l=0;switch(t.payment_method){case"qris_shopeepay":l=Math.ceil(s*0);break;case"qris_ovo":l=Math.ceil(s*.007);break;case"qris_gopay":l=Math.ceil(s*.003);break;case"qris_otomatis":l=Math.ceil(s*.007);break;default:l=0;break}h(l)},b=a=>{a.preventDefault(),c("Permintaan deposit sedang diproses..."),i(!0),f("/deposit",{onSuccess:()=>{c("Permintaan deposit berhasil dikirim!"),i(!0)},onError:()=>{c("Gagal mengirim permintaan deposit."),i(!0)}})};return e.jsxs(e.Fragment,{children:[e.jsx(j,{title:"Deposit"}),e.jsxs("div",{className:"mx-auto w-full max-w-[500px] flex flex-col min-h-screen",children:[e.jsx("header",{className:"fixed top-0 left-1/2 -translate-x-1/2 max-w-[500px] w-full z-10 flex flex-row space-x-4 justify-start items-center px-4 py-2 bg-main",children:e.jsxs("div",{className:"w-full flex flex-row space-x-4 items-center justify-start",children:[e.jsx("button",{className:"shrink-0 w-6 h-6",onClick:()=>window.history.back(),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",className:"w-6 h-6",children:e.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),e.jsx("div",{className:"font-utama text-white font-bold text-lg",children:"Deposit"})]})}),e.jsxs("form",{onSubmit:b,className:"w-full w-max-[500px] flex flex-col space-y-3 mt-10 [@media(max-width:277px)]:mt-[76px] p-4 bg-main-white",children:[e.jsxs("div",{className:"w-full flex flex-col space-y-4 p-4 rounded-lg bg-white shadow-md",children:[e.jsxs("div",{className:"w-full h-max flex flex-row space-x-4 justify-start items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"w-6 h-6 text-main",viewBox:"0 0 16 16",children:[e.jsx("path",{d:"M5.5 9.511c.076.954.83 1.697 2.182 1.785V12h.6v-.709c1.4-.098 2.218-.846 2.218-1.932 0-.987-.626-1.496-1.745-1.76l-.473-.112V5.57c.6.068.982.396 1.074.85h1.052c-.076-.919-.864-1.638-2.126-1.716V4h-.6v.719c-1.195.117-2.01.836-2.01 1.853 0 .9.606 1.472 1.613 1.707l.397.098v2.034c-.615-.093-1.022-.43-1.114-.9zm2.177-2.166c-.59-.137-.91-.416-.91-.836 0-.47.345-.822.915-.925v1.76h-.005zm.692 1.193c.717.166 1.048.435 1.048.91 0 .542-.412.914-1.135.982V8.518z"}),e.jsx("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),e.jsx("path",{d:"M8 13.5a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11m0 .5A6 6 0 1 0 8 2a6 6 0 0 0 0 12"})]}),e.jsx("p",{className:"font-utama font-medium text-gray-700 leading-tight h-6",children:"Nominal (Maks 450.000)"})]}),e.jsxs("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center pr-2 py-2 rounded-lg bg-neutral-100 border-2 border-gray-200",children:[e.jsx("input",{type:"text",id:"amount",name:"amount",value:t.amount===""?"":parseInt(t.amount).toLocaleString("id-ID"),onChange:v,className:"bg-transparent border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",placeholder:"Minimal 1.000",required:!0}),o.amount&&e.jsx("span",{className:"text-red-500 text-sm",children:o.amount})]})]}),e.jsxs("div",{className:"w-full flex flex-col space-y-4 p-4 rounded-lg bg-white shadow-md",children:[e.jsxs("div",{className:"w-full h-max flex flex-row space-x-4 justify-start items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"w-6 h-6 text-main",viewBox:"0 0 16 16",children:[e.jsx("path",{fillRule:"evenodd",d:"M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8m5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0"}),e.jsx("path",{d:"M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195z"}),e.jsx("path",{d:"M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083q.088-.517.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1z"}),e.jsx("path",{d:"M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 6 6 0 0 1 3.13-1.567"})]}),e.jsx("p",{className:"font-utama font-medium text-gray-700 leading-tight h-6",children:"Metode Pembayaran"})]}),e.jsx("select",{id:"payment_method",name:"payment_method",value:t.payment_method,onChange:()=>{},className:"hidden",children:x.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsx("div",{className:"flex flex-col divide-y divide-gray-300",children:x.map(a=>e.jsxs("div",{onClick:()=>y({target:{value:a.value}}),className:`cursor-pointer flex flex-row items-center space-x-4 p-4 transition rounded-md 
                    ${t.payment_method===a.value?"bg-blue-50 border-l-4 border-gray-300":"bg-white"}
                  `,children:[e.jsx("img",{src:a.logo,alt:"Logo",className:"w-[50px] h-auto object-contain"}),e.jsxs("div",{className:"flex flex-col space-y-1 flex-1",children:[e.jsx("p",{className:"font-utama font-medium text-base text-gray-800",children:a.label.split(" (")[0]}),e.jsx("p",{className:"text-xs text-gray-500",children:a.label.includes("(")?a.label.split(" (")[1].replace(")",""):""}),e.jsxs(_,{href:route("deposit.tutorial"),data:{method:a.value},className:"inline-flex items-center gap-1 text-[11px] text-blue-500 hover:underline w-fit",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"w-3 h-3",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"})}),"Lihat tutorial"]})]})]},a.value))}),o.payment_method&&e.jsx("span",{className:"text-red-500 text-sm",children:o.payment_method})]}),e.jsxs("div",{className:"w-full flex flex-col space-y-4 p-4 rounded-lg bg-white shadow-md",children:[d>0&&e.jsx("div",{children:e.jsxs("p",{className:"text-gray-700",children:["Biaya Admin: ",e.jsx("strong",{children:d.toLocaleString("id-ID")})]})}),e.jsx("div",{children:e.jsxs("p",{className:"text-gray-700",children:["Total:"," ",e.jsx("strong",{children:(parseInt(t.amount||0)+d).toLocaleString("id-ID")})]})}),e.jsx("button",{type:"submit",className:`w-full py-2 px-4 rounded text-white ${m?"bg-gray-500":"bg-blue-500 hover:bg-blue-700"}`,disabled:m,children:m?"Pengajuan...":"Ajukan Deposit"})]})]}),g&&e.jsx("div",{className:"fixed z-20 inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"w-[328px] h-max flex flex-col space-y-2 items-center justify-center p-4 rounded-lg bg-white",children:[e.jsx("p",{className:"w-full h-max text-utama text-lg font-medium text-center align-middle",children:u}),e.jsx("button",{onClick:()=>i(!1),className:"w-full h-10 flex items-center justify-center px-4 py-2 text-white bg-main rounded-md hover:bg-blue-700",children:"Tutup"})]})})]})]})};export{M as default};
