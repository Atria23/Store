import{q as N,r,j as e,a as b,d as v}from"./app-vKrzV9OH.js";const u={Telkomsel:["0811","0812","0813","0821","0822","0823","0852","0853"],Indosat:["0814","0815","0816","0855","0856","0857","0858"],XL:["0817","0818","0819","0859","0877","0878"],Axis:["0838","0831","0832","0833"],Tri:["0895","0896","0897","0898","0899"],Smartfren:["0881","0882","0883","0884","0885","0886","0887","0888"],"By.U":["0851"]},x=s=>{for(const a in u)if(u[a].some(i=>s.startsWith(i)))return a;return null},f=s=>{let a=s.replace(/\D/g,"");return a.startsWith("62")?a="0"+a.substring(2):a.startsWith("+62")&&(a="0"+a.substring(3)),a},y=s=>s.split(" - ")[0],k=({category:s,brands:a,brand:i})=>{const{url:h}=N(),p=new URLSearchParams(h.split("?")[1]).get("phone")||"",[l,d]=r.useState(f(p)),[c,w]=r.useState(""),[o,g]=r.useState(x(l)),m=r.useRef(null);r.useEffect(()=>{var t;if(l.length>=4){const n=x(l);g(n),n&&window.history.replaceState(null,"",`/c=${s.name}/b=${n}?phone=${l}`),(t=m.current)==null||t.focus()}},[l,s.name]),r.useEffect(()=>{if(o){const t=a.filter(n=>n.name.toLowerCase().startsWith(o.toLowerCase()));t.length>0&&(window.location.href=`/c=${s.name}/b=${t[0].name}?phone=${l}`)}},[o,a,s.name,l]);const j=t=>{const n=f(t.target.value);d(n)};return e.jsxs(e.Fragment,{children:[e.jsx(b,{title:"Category Page"}),e.jsxs("div",{className:"mx-auto w-full max-w-[500px] max-h-[892px] min-h-screen",children:[e.jsxs("div",{className:"fixed top-0 left-1/2 -translate-x-1/2 max-w-[500px] w-full z-10 bg-main",children:[e.jsx("section",{className:"w-full h-max flex flex-row space-x-4 justify-start items-center px-4 py-2 bg-main",children:e.jsxs("div",{className:"w-full h-max flex flex-row space-x-4 items-center justify-start",children:[e.jsx("button",{className:"shrink-0 w-6 h-6",onClick:()=>window.history.back(),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",className:"w-6 h-6",children:e.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),e.jsxs("div",{className:"font-utama text-white font-bold text-lg",children:["List ",s.name]})]})}),e.jsx("div",{className:"w-full h-max flex flex-col space-y-4 items-center justify-start p-4 bg-white shadow-lg",children:e.jsx("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center pr-2 py-2 rounded-lg bg-neutral-100 border-2 border-gray-200",children:s.name==="Pulsa"||s.name==="Data"||s.name==="Masa Aktif"||s.name==="Paket SMS & Telpon"?e.jsx("input",{ref:m,id:"searchInput",type:"tel",className:"bg-transparent border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",value:l,onChange:j,placeholder:"Masukkan nomor HP"}):e.jsxs(e.Fragment,{children:[e.jsx("input",{id:"searchInput",type:"text",className:"bg-transparent border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",value:c,onChange:t=>w(t.target.value),placeholder:"Cari brand..."}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.3",className:"w-5 h-5 text-main",children:e.jsx("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16a6.471 6.471 0 0 0 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zM9.5 14A4.5 4.5 0 1 1 14 9.5 4.505 4.505 0 0 1 9.5 14z"})})]})})})]}),e.jsx("section",{className:"w-full max-w-[500px] min-h-[828px] flex flex-col space-y-7 items-start justify-start pt-32 pb-4",children:e.jsx("div",{className:"w-full flex flex-col space-y-4 items-center justify-start",children:e.jsx("div",{className:"w-full px-4 grid grid-cols-4 gap-x-5 gap-y-4 flex items-start justify-center",children:!(s.name==="Pulsa"||s.name==="Data"||s.name==="Masa Aktif"||s.name==="Paket SMS & Telpon")&&!i?a.filter(t=>t.name.toLowerCase().includes(c.toLowerCase())).map(t=>e.jsxs(v,{href:`/c=${s.name}/b=${t.name}?phone=${l}`,className:"w-full h-full flex flex-col space-y-1 items-center justify-start",children:[e.jsx("img",{src:t.image?`storage/${t.image}`:"storage/brands/default.webp",alt:t.name,className:"w-14 h-14 rounded-full object-cover"}),e.jsx("p",{className:"text-center text-xs line-clamp-2",children:y(t.name)})]},t.id)):null})})})]})]})};export{k as default};
