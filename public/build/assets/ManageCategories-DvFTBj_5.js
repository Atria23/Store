import{q as D,r as l,j as e,y as h}from"./app-Bc1s19eS.js";function B(){const{categories:v}=D().props,[f,N]=l.useState(""),[p,y]=l.useState("asc"),[C,r]=l.useState(!1),[x,m]=l.useState(null),[g,n]=l.useState(null),[i,o]=l.useState({}),[S,d]=l.useState(!1),[w,j]=l.useState(null),[a,c]=l.useState({name:"",image:null}),b=t=>{if(t.target.name==="image"){const s=t.target.files[0];s&&(n(URL.createObjectURL(s)),c({...a,image:s}))}else c({...a,[t.target.name]:t.target.value})},k=t=>{t.preventDefault(),o({});const s=new FormData;s.append("name",a.name),a.image&&s.append("image",a.image),x?h.post(`/manage-categories/${x.id}`,s,{onSuccess:()=>{r(!1),m(null),n(null)},onError:u=>o(u)}):h.post("/manage-categories",s,{onSuccess:()=>{r(!1),n(null)},onError:u=>o(u)})},z=t=>{m(t),c({name:t.name,image:null}),n(t.image),r(!0)},L=()=>{w&&h.delete(`/manage-categories/${w}`,{onSuccess:()=>{d(!1),j(null)}})},M=[...v].filter(t=>t.name.toLowerCase().includes(f.toLowerCase())).sort((t,s)=>p==="asc"?t.name.localeCompare(s.name):s.name.localeCompare(t.name));return e.jsxs("div",{className:"mx-auto w-full max-w-[412px] max-h-[892px] h-screen",children:[e.jsxs("div",{className:"sticky top-0 z-10 bg-main",children:[e.jsxs("div",{className:"w-full h-max flex flex-row space-x-4 justify-start items-center px-4 py-2 bg-main",children:[e.jsxs("div",{className:"w-full h-max flex flex-row space-x-4 items-center justify-start",children:[e.jsx("button",{className:"shrink-0 w-6 h-6",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",className:"w-6 h-6",children:e.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),e.jsx("div",{className:"font-utama text-white font-bold text-lg",children:"Kelola Kategori"})]}),e.jsx("button",{onClick:()=>{m(null),c({name:"",image:null}),n(null),r(!0)},className:"flex items-center w-6 h-6",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6 text-white",children:[e.jsx("path",{d:"M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2m0 18a8 8 0 1 1 8-8 8.01 8.01 0 0 1-8 8"}),e.jsx("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4z"})]})})]}),e.jsxs("div",{className:"w-full h-max flex flex-col space-y-4 items-center justify-start p-4 bg-white shadow-lg",children:[e.jsxs("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center pr-2 py-2 rounded-lg bg-neutral-100 border-2 border-gray-200",children:[e.jsx("input",{id:"searchInput",type:"text",className:"bg-transparent border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",placeholder:"Cari kategori",value:f,onChange:t=>N(t.target.value)}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",className:"w-5 h-5 text-main",children:e.jsx("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16a6.471 6.471 0 0 0 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zM9.5 14A4.5 4.5 0 1 1 14 9.5 4.505 4.505 0 0 1 9.5 14z"})})]}),e.jsxs("div",{className:"w-full h-max flex flex-row space-x-4 items-center justify-start",children:[e.jsxs("button",{onClick:()=>y(p==="asc"?"desc":"asc"),className:"w-full h-max flex flex-row space-x-2 items-center justify-center px-4 py-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4 text-main",children:e.jsx("path",{d:"M3 6h8v2H3zm0 5h5v2H3zm0 5h3v2H3zM15 5l-4 4h3v8h2V9h3z"})}),e.jsx("span",{className:"text-utama text-xs font-thin text-left align-middle text-blue-600",children:"Urutkan"})]}),e.jsx("div",{className:"shrink-0 w-8 text-main",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",className:"w-full h-full",children:e.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20"})})}),e.jsxs("button",{className:"w-full h-max flex flex-row space-x-2 items-center justify-center px-4 py-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4 text-main",children:e.jsx("path",{d:"M10 18h4v-2h-4zm-7-6h18v-2H3zm4-6v2h10V6z"})}),e.jsx("span",{className:"text-utama text-xs font-thin text-left align-middle text-blue-600",children:"Filter"})]})]})]})]}),e.jsx("div",{className:"mb-4 min-h-[756px] bg-white",children:M.map(t=>e.jsxs("div",{className:"flex justify-between items-center p-4 border-b-2 border-b-neutral-100",children:[e.jsxs("div",{className:"w-full h-max flex items-center space-x-3 content-start",children:[e.jsx("div",{className:"w-13 h-13 space-x-2 flex items-center justify center p-1 rounded-xl bg-white shadow",children:e.jsx("img",{src:t.image||"storage/categories/default.png",alt:t.name,className:"w-10 h-10 rounded-xl object-cover"})}),e.jsxs("div",{className:"max-w-[200px] flex flex-col items-start space-y-[2px]",children:[e.jsx("p",{className:"font-utama font-semibold text-xs truncate w-full",children:t.name}),e.jsxs("p",{className:"font-utama text-[10px] text-gray-500",children:["Update Terakhir: ",new Date(t.updated_at).toLocaleDateString()]}),e.jsxs("p",{className:"font-utama text-[10px] text-gray-500",children:["Tanggal Dibuat: ",new Date(t.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"w-12 h-full flex flex-col items-center space-y-1",children:[e.jsx("button",{onClick:()=>z(t),className:"w-full h-max px-2 py-[2px] text-[10px] text-main rounded-3xl bg-blue-50 border border-main flex items-center justify-center",children:"Edit"}),e.jsx("button",{onClick:()=>{j(t.id),d(!0)},disabled:t.is_used,className:`w-full h-max px-2 py-[2px] text-[10px] rounded-3xl flex items-center justify-center ${t.is_used?"text-gray-400 bg-gray-50 border border-gray-400 cursor-not-allowed":"text-red-600 bg-red-50 border border-red-600"}`,children:"Hapus"})]})]},t.id))}),C&&e.jsx("div",{className:"fixed z-20 inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"w-[328px] h-max flex flex-col space-y-2 items-center justify-center p-4 rounded-lg bg-white",children:[e.jsxs("div",{className:"w-full h-max flex flex-col",children:[e.jsx("button",{className:"w-full flex items-end justify-end",onClick:()=>r(!1),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-7 h-7 text-red-500",children:e.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"})})}),e.jsx("h2",{className:"w-full h-max text-utama text-lg font-medium text-center align-middle",children:x?"Edit Kategori":"Tambah Kategori"})]}),e.jsxs("form",{onSubmit:k,encType:"multipart/form-data",children:[e.jsxs("div",{className:"w-full h-max flex flex-col space-y-2 items-center justify-center",children:[e.jsxs("div",{className:"w-full h-max flex flex-col space-y-2 items-center justify-center",children:[e.jsxs("label",{className:"w-20 h-20 rounded-full cursor-pointer overflow-hidden relative border-2 border-gray-200",children:[e.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:b,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),g?e.jsx("img",{src:g,alt:"Preview",className:"w-full h-full object-cover"}):e.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-gray-500",children:"Pilih Gambar"})]}),i.image&&e.jsx("p",{className:"text-red-500 text-sm",children:i.image}),e.jsx("p",{className:"w-full h-max text-utama font-medium text-xs text-center align-middle",children:"Gambar Kategori"})]}),e.jsxs("div",{className:"w-[294px] h-max flex flex-col space-y-2",children:[e.jsx("p",{className:"w-full h-max text-utama font-medium text-s text-left align-middle",children:"Nama"}),e.jsxs("div",{className:"w-full h-9 flex flex-row mx-auto items-center justify-center rounded-lg bg-neutral-100 border-2 border-gray-200",children:[e.jsx("input",{type:"text",name:"name",value:a.name,onChange:b,className:"bg-transparent border-none flex-grow focus:ring-0 focus:outline-none placeholder-gray-400",placeholder:"Nama Kategori",required:!0}),i.name&&e.jsx("p",{className:"text-red-600 text-sm",children:i.name})]})]})]}),e.jsx("div",{className:"w-full h-max mt-2 flex flex-col items-center justify-center",children:e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 transition",children:"Simpan"})})]})]})}),S&&e.jsx("div",{className:"fixed z-20 inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"w-[328px] h-max flex flex-col space-y-2 items-center justify-center p-4 rounded-lg bg-white",children:[e.jsx("p",{className:"w-full h-max text-utama text-lg font-medium text-center align-middle",children:"Yakin Hapus Kategori?"}),e.jsxs("div",{className:"w-full h-max flex flex-row space-x-2",children:[e.jsx("button",{onClick:L,className:"w-full h-10 flex items-center justify-center px-4 py-2 text-white bg-red-600 rounded-md hover:bg-red-700",children:"Ya"}),e.jsx("button",{onClick:()=>d(!1),className:"w-full h-10 flex items-center justify-center px-4 py-2 text-white bg-main rounded-md hover:bg-blue-700",children:"Tidak"})]})]})})]})}export{B as default};
